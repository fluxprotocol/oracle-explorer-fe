(this["webpackJsonporacle-explorer"]=this["webpackJsonporacle-explorer"]||[]).push([[0],{104:function(e,t,a){e.exports={paper:"Dialog_paper__XrzDE",title:"Dialog_title__2o5jO",content:"Dialog_content__2Ebv9",cancelButton:"Dialog_cancelButton__3SRaV"}},105:function(e,t,a){e.exports={container:"OutcomeStakesOverview_container__d2gou",tableHead:"OutcomeStakesOverview_tableHead__2uKGi",linkCell:"OutcomeStakesOverview_linkCell__1JQo4",pagination:"OutcomeStakesOverview_pagination__9qflK",empty:"OutcomeStakesOverview_empty__2dWxV"}},106:function(e,t,a){e.exports={header:"DataRequestDetailHeader_header__22oVK",button:"DataRequestDetailHeader_button__zUMJ0"}},118:function(e,t,a){e.exports={root:"OptionSwitch_root__URwjr",options:"OptionSwitch_options__3MHNp",thumb:"OptionSwitch_thumb__2cImY",track:"OptionSwitch_track__2IbZB"}},119:function(e,t,a){e.exports={container:"StakerReport_container__1KMDE",link:"StakerReport_link__28dEc"}},132:function(e,t,a){e.exports={titleWrapper:"RequestInfoCard_titleWrapper__3noPW",title:"RequestInfoCard_title__3_LHr",requestDetails:"RequestInfoCard_requestDetails__1YEfP",item:"RequestInfoCard_item__10SUD",link:"RequestInfoCard_link__1uLuv"}},133:function(e,t,a){e.exports={form:"UnstakeDialog_form__C2-VH",formItem:"UnstakeDialog_formItem__3mtQ-",formInput:"UnstakeDialog_formInput__3LoeJ"}},134:function(e,t,a){e.exports={card:"DataRequestDetailPage_card__3etft",lastCard:"DataRequestDetailPage_lastCard__1-jEK"}},170:function(e,t,a){e.exports={root:"TabBar_root__2tnOA",tab:"TabBar_tab__t4I0-",indicator:"TabBar_indicator__2rgIT"}},171:function(e,t,a){e.exports={root:"LabeledText_root___tErh",label:"LabeledText_label__3rjG2",tooltip:"LabeledText_tooltip__1GkBn"}},172:function(e,t,a){e.exports={titleWrapper:"AccountDetailsInfoCard_titleWrapper__13sTy",card:"AccountDetailsInfoCard_card__15fyo",title:"AccountDetailsInfoCard_title__1q59t"}},174:function(e,t,a){e.exports={footer:"Footer_footer__30IoI",footerWrapper:"Footer_footerWrapper__2JRgQ",logo:"Footer_logo__1GRAA"}},175:function(e,t,a){e.exports={tabBar:"AccountPage_tabBar__nyIhL",card:"AccountPage_card__21C88",title:"AccountPage_title__21f5o"}},176:function(e,t,a){e.exports={titleWrapper:"WhitelistInfoCard_titleWrapper__aGhS9",card:"WhitelistInfoCard_card__3P3YS",title:"WhitelistInfoCard_title__38y1w"}},177:function(e,t,a){e.exports={titleWrapper:"OracleConfigInfoCard_titleWrapper__1ddeR",title:"OracleConfigInfoCard_title__3mNUJ",card:"OracleConfigInfoCard_card__ut_iI"}},178:function(e,t,a){e.exports={titleWrapper:"ResolutionWindowInfoCard_titleWrapper__1xIda",title:"ResolutionWindowInfoCard_title__14x7-",noWindows:"ResolutionWindowInfoCard_noWindows__2uZTP"}},179:function(e,t,a){e.exports={container:"OutcomeStakeInfo_container__1nmxk"}},180:function(e,t,a){e.exports={accordion:"ResolutionWindowAccordion_accordion__XN6Ij",roundTitle:"ResolutionWindowAccordion_roundTitle__1OvP0",details:"ResolutionWindowAccordion_details__9JJHE"}},181:function(e,t,a){e.exports={title:"HomeHeader_title__3isjk",search:"HomeHeader_search__2w-zi",searchInput:"HomeHeader_searchInput__39vB0"}},182:function(e,t,a){e.exports={card:"StatCard_card__1M2jM",statLabel:"StatCard_statLabel__N14eN",statValue:"StatCard_statValue__F5gOf"}},203:function(e,t,a){e.exports={root:"InformationRows_root__1CR4v",item:"InformationRows_item__1QOpX"}},206:function(e,t,a){e.exports={form:"StorageManagerDialog_form__2SPdU",formItem:"StorageManagerDialog_formItem__1Ps1x",formInput:"StorageManagerDialog_formInput__12vWX",error:"StorageManagerDialog_error__3REyq"}},207:function(e,t,a){e.exports={root:"AnnouncementConnector_root__eZvEK",alert:"AnnouncementConnector_alert__5plWB"}},208:function(e,t,a){e.exports={page:"Page_page__1vav1",body:"Page_body__34Ach"}},209:function(e,t,a){e.exports={button:"ToggleButtons_button__3I0Ud",selected:"ToggleButtons_selected__DQend"}},210:function(e,t,a){e.exports={subtitle:"DataRequestsOverviewFilters_subtitle__3ViXR",wrapper:"DataRequestsOverviewFilters_wrapper__2lMdn"}},267:function(e,t,a){e.exports={card:"Card_card__35wN0"}},268:function(e,t,a){e.exports={infoTooltipWrapper:"InfoToolTip_infoTooltipWrapper__tIv_o"}},271:function(e){e.exports=JSON.parse('{"global.action.close":"Close","global.action.cancel":"Cancel","global.action.submit":"Submit","global.yes":"Yes","global.no":"No","global.na":"N/A","global.status.ongoing":"On going","global.status.completed":"Completed","global.empty.noRequests":"No requests found","global.empty.entries":"No entries found","global.date.smallFormat":":days d :hours h :minutes m :seconds s","global.max":"Max","routes.label.home":"Home","routes.label.dataRequests":"Requests","menu.label.search":"Search request","menu.label.login":"Login","menu.label.logout":"Logout","menu.label.storageManager":"Storage manager","dataRequest.type.arbitrator":"Arbitrator","dataRequest.type.api":"API","dataRequestFilters.label.arbitrator":"Only arbitrator requests","homePage.title.latestRequests":"Latest requests","pagination.pageIndication":"Page :currentPage of :totalPages","dataRequests.title":"All requests","dataRequest.subtitle":":total in total","outcome.invalid":"Invalid","homeHeader.title":"Explore the Flux Oracle","searchResultPage.title":"Results for \':query\'","searchResultPage.noResults":"No results found","stakerReportsInfo.title":"Resolution windows","stakerReportsInfo.noWindows":"No resolution windows, stake to start one.","callDataInfo.title":"Calldata","callDataInfo.description":"Description","callDataInfo.label.endPoint":"End point URL","callDataInfo.label.sourcePath":"Source path","callDataInfo.outcomes.title":"Possible outcomes","callDataInfo.dataType":"Expected data type","callDataInfo.numberMultiplier":"Number multiplier","dataRequestsOverview.table.label.id":"Request ID","dataRequestsOverview.table.label.type":"Request Type","dataRequestsOverview.table.label.status":"Status","dataRequestsOverview.table.label.timestamp":"Created at","outcomeStakesOverview.table.label.id":"Request ID","outcomeStakesOverview.table.label.roud":"Round","outcomeStakesOverview.table.label.outcome":"Outcome","outcomeStakesOverview.table.label.stake":"Stake","outcomeStakesOverview.table.label.finalizedOutcome":"Finalized outcome","outcomeStakeInfo.table.label.round":"Round","outcomeStakeInfo.table.label.correcltyStaked":"Correct?","outcomeStakeInfo.label.correct":"\u2705 Correct","outcomeStakeInfo.label.incorrect":"\u274c Incorrect","outcomeStakeInfo.label.unbonded":"\u2139\ufe0f Unbonded","accountDetailsInfoCard.title":"Account details","accountDetailsInfoCard.label.balance":"Balance","accountDetailsInfoCard.label.provider":"Provider","accountDetailsInfoCard.label.activeStaking":"Active staking","accountDetailsInfoCard.label.totalStaked":"Total staked","accountDetailsInfoCard.label.totalClaimed":"Total claimed","accountDetailsInfoCard.label.storageUsed":"Used storage","accountDetailsInfoCard.info.storageUsed":"The amount of :nativeToken that is used for storing data inside the oracle contract.","accountDetailsInfoCard.label.storageUnused":"Unused storage","accountDetailsInfoCard.info.storageUnused":"The amount of :nativeToken that is unused. This can be withdrawn back into your account. However, when interacting with the oracle it\'s possible that the explorer ask you to re-deposit :nativeToken in order for the transaction to complete.","accountDetailsInfoCard.label.totalDisputes":"Amount of disputes","accountDetailsInfoCard.label.timesSlashed":"Times slashed","accountDetailsInfoCard.label.totalSlashed":"Amount slashed","oracleConfig.title":"Config #:id","oracleConfigInfoCard.title":"Config details","oracleConfigInfoCard.label.createdAt":"Created at","oracleConfigInfoCard.label.gov":"Oracle governance","oracleConfigInfoCard.label.bondToken":"Token for creating bonds","oracleConfigInfoCard.label.stakeToken":"Token for staking on requests","oracleConfigInfoCard.label.finalArbitrator":"Final arbitrator","oracleConfigInfoCard.label.finalArbitratorInvokeAmount":"Final arbitrator invoke amount","oracleConfigInfoCard.label.resolutionFeePercentage":"Resolution fee percentage","oracleConfigInfoCard.label.maxOutcomes":"Maximum amount of outcomes","oracleConfigInfoCard.label.minInitialChallengeWindowDuration":"Minimum initial challenge window duration","oracleConfigInfoCard.label.defaultChallengeWindowDuration":"Default challenge window duration","oracleConfigInfoCard.label.validityBond":"Validity bond","oracleConfigInfoCard.label.totalValueStaked":"Total value staked","oracleConfigInfoCard.label.fluxMarketCap":"Market cap","whitelistInfoCard.title":"Registry info","whitelistInfoCard.label.interfaceName":"Interface name","whitelistInfoCard.label.codeBaseUrl":"Code base URL","whitelistInfoCard.label.active":"Activated","whitelistInfoCard.label.fixedFee":"Fee per request","whitelistInfoCard.label.stakeMultiplier":"Stake multiplier","requestInfo.title":"Request Info","requestInfo.label.requestor":"Requestor Account ID","requestInfo.label.feePercentage":"Fee Percentage","requestInfo.label.settlementTime":"Settlement date","requestInfo.label.totalStaked":"Total staked","requestInfo.label.finalizedOutcome":"Finalized outcome","requestInfo.label.dateCreated":"Date created","requestInfo.label.targetContract":"Target contract","requestInfo.label.finalArbitratorTriggered":"Final arbitrator triggered?","requestInfo.label.tags":"Tags","requestInfo.label.noTags":"No tags available","requestInfo.label.config":"Config ID","requestInfo.label.feeReward":"Reward","requestInfo.label.totalCorrectStaked":"Total correct staked","requestInfo.label.totalIncorrectStaked":"Total incorrect staked","stakeReport.table.label.outcome":"Outcome","stakeReport.table.label.stake":"Staked","stakerReport.label.invalid":"Invalid","stakeReport.table.label.accountId":"Account ID","resolutionWindow.round":"Round #:round","resolutionWindow.label.closesIn":"Ends in: ","storageManagerDialog.title":"Storage withdrawing","storageManagerDialog.description":"Everytime you stake on a outcome :nativeToken is deposited in order to pay for storage. The amount deposited isn\'t always the amount you use. This will leave unused :nativeToken in the oracle contract. You can either leave it there to pay for a future transaction or withdraw your unused :nativeToken here.","storageManagerDialog.label.withdrawAmount":"Withdraw amount in :nativeToken","storageManagerDialog.errors.withdrawAmount.notEnoughToWithdraw":"You can\'t withdraw more than available","storageManagerDialog.label.amountAvailable":"Amount available to withdraw: :amount :nativeToken","resolutionWindowAccordion.label.endTime":"End time","resolutionWindowAccordion.label.bondSize":"Bond size","resolutionWindowAccordion.label.totalStaked":"Total staked","resolutionWindowAccordion.stakerReports.title":"Staker reports","resolutionWindowAccordion.outcomeStakes.title":"Outcome stakes","resolutionWindowAccordion.label.percentageFilled":"Filled %","resolutionWindowAccordion.label.bondedOutcome":"Bonded outcome","resolutionWindowAccordion.label.winningOutcome":"Highest staked outcome","outcomeStakeInfo.table.label.outcome":"Outcome","outcomeStakeInfo.table.label.stake":"Staked","outcomeStakeInfo.label.invalid":"Invalid","oracleStats.label.totalRequests":"Total requests","oracleStats.label.tokenPrice":":tokenSymbol price","oracleStats.label.tokenMarketCap":":tokenSymbol Market Cap","stakeDialog.title":"Stake","stakeDialog.label.answer":"Answer","stakeDialog.label.stakeAmount":"Stake amount in :tokenSymbol","stakeDialog.label.valid":"Valid","stakeDialog.label.invalid":"Invalid","stakeDialog.label.validity":"Is data request valid?","stakeDialog.label.outcomes":"Possible answers","stakeDialog.errors.notEnoughBalance":"Not enough balance","stakeDialog.errors.noAnswer":"Answer is required for valid data requests","stakeDialog.errors.mustBeAnOutcome":"The answer must be one of the outcomes","stakeDialog.errors.sameAnswerAsPreviousRound":"You cannot stake the same answer as the previous bonded outcome","unstakeDialog.title":"Unstake","unstakeDialog.errors.notEnoughStaked":"You can\'t unstake more than you have staked.","unstakeDialog.label.answer":"Outcome","unstakeDialog.label.stakeAmount":"Stake amount in :tokenSymbol","unstakeDialog.label.staked":"You have staked :stake :tokenSymbol in this answer","accountStakesInfoCard.title":"Your stakes","accountStakesInfoCard.noStakes":"No stakes done by you","accountPage.label.stakes":"Stakes","accountPage.label.transactions":"Transactions","accountPage.label.unclaimed":"Unclaimed","accountPage.label.requests":"Requests","accountPage.label.analytics":"Analytics","accountPage.label.requestorAnalytics":"Analytics","accountAnalytics.labels.stakePayout":"Stake earnings","accountAnalytics.labels.feePayout":"Fee earnings","requestorAnalytics.labels.invalidRequests":"Invalid requests","lineChart.labels.1d":"1D","lineChart.labels.1w":"1W","lineChart.labels.3w":"3W","lineChart.labels.1m":"1M","lineChart.labels.1y":"1Y","lineChart.labels.all":"ALL","dataRequestDetail.title":"Request #:id","dataRequestDetail.label.claimed":"Correctly bonded stake: :userCorrectStake :tokenSymbol + Fees earned: :payout :tokenSymbol. Any unbonded stake is refunded.","dataRequestDetail.description.unclaimed":"Click \\"Claim earnings\\" in order to claim back any non-bonded stake + a reward if you have correctly staken.","dataRequestDetail.label.stake":"Stake","dataRequestDetail.label.unstake":"Unstake","dataRequestDetail.label.claim":"Claim earnings","dataRequestDetail.canBeResolvedIn":"Can be resolved in: ","dataRequestDetail.label.finalize":"Finalize","dataRequestDetail.label.finalArbitratorTriggered":"Final arbitrator pending.."}')},272:function(e,t,a){e.exports={button:"FakeLinkButton_button__3y9OQ"}},280:function(e,t,a){e.exports={button:"Button_button__2Lf63"}},281:function(e,t,a){},283:function(e,t,a){e.exports={pagination:"Pagination_pagination__CcIoD"}},288:function(e,t,a){e.exports={link:"ExternalLink_link__1Kew6"}},290:function(e,t,a){e.exports={select:"Select_select__JK0vz"}},292:function(e,t,a){e.exports={checked:"Checkbox_checked__2Gh-t"}},294:function(e,t,a){e.exports={root:"OracleStats_root__2Ae20"}},295:function(e,t,a){e.exports={title:"SearchResultPage_title__1YHPd"}},330:function(e,t){},338:function(e,t){},35:function(e,t,a){e.exports={root:"Menu_root__3JE0d",menu:"Menu_menu__2sZJU",topBar:"Menu_topBar__1xIMt",bottomBar:"Menu_bottomBar__1J-Xi",menuItems:"Menu_menuItems__1E3rU",accountLinks:"Menu_accountLinks__3tRwW",menuItem:"Menu_menuItem__3mHfR",menuLink:"Menu_menuLink__2oVrc","menuLink--active":"Menu_menuLink--active__3XNkb",link:"Menu_link__1lvRI",logoWrapper:"Menu_logoWrapper__3tZ4v",logo:"Menu_logo__2SxFW",rightMenu:"Menu_rightMenu__GMj4U",moreMenu:"Menu_moreMenu__1jmd5",mobileOnly:"Menu_mobileOnly__Yj8kA"}},355:function(e,t){},357:function(e,t){},433:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(0),o=a(26),c=a.n(o),s=a(12),i=a(48),l=a(14),u=a(508),d=a(487),b=a(29),f=a.n(b),p=a(480),m=a(267),j=a.n(m),v=a(1);function h(e){return Object(v.jsx)(p.a,Object(n.a)(Object(n.a)({},e),{},{className:f()(j.a.card,e.className)}))}var k=a(509),O=a(484),g=a(170),x=a.n(g);function _(e){var t=e.items,a=e.onTabClick,n=e.activeId,r=e.variant,o=void 0===r?"standard":r,c=e.tabClassName,s=void 0===c?"":c,i=e.className,l=void 0===i?"":i;return Object(v.jsx)(k.a,{classes:{indicator:x.a.indicator},className:f()(x.a.root,l),variant:o,value:n,children:t.filter((function(e){return e.show})).map((function(e){return Object(v.jsx)(O.a,{onClick:function(){return a(e)},className:f()(x.a.tab,s),label:e.label,value:e.id},e.id)}))})}var y=a(171),w=a.n(y),I=a(270),S=a.n(I),C=a(521),q=a(268),R=a.n(q);function D(e){var t=e.text,a=e.className,n=void 0===a?"":a;return Object(v.jsx)(C.a,{title:t,arrow:!0,children:Object(v.jsx)("div",{className:f()(n,R.a.infoTooltipWrapper),children:Object(v.jsx)(S.a,{})})})}function A(e){var t=e.label,a=e.info,n=void 0===a?"":a,r=e.children,o=e.className;return Object(v.jsxs)("div",{className:f()(w.a.root,o),children:[Object(v.jsxs)("span",{className:w.a.label,children:[t,n&&Object(v.jsx)(D,{className:w.a.tooltip,text:n})]}),Object(v.jsx)("span",{children:r})]})}var T=a(203),N=a.n(T);function P(e){var t=e.rows;return Object(v.jsx)("div",{className:N.a.root,children:t.map((function(e){return Object(v.jsx)(A,{className:N.a.item,label:e.label,info:e.info,children:e.value},e.label)}))})}var M=a(271);function W(e,t,a){var n=M[e];if(!n)return e;var r,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/:(\w+)/gi,(function(e){var a=e.replace(/^:/,"");return void 0===t[a]||null===t[a]?"":t[a]}))}(n,t);return a?(r=o).charAt(0).toUpperCase()+r.substring(1):o}function F(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return W(e?"global.yes":"global.no")}var U=a(172),E=a.n(U),B=a(15),L=a.n(B);function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=new L.a(10).pow(t);return new L.a(e).div(n).round(a,0).toFixed(a)}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=new L.a(10).pow(t);return new L.a(e).mul(a).toFixed(0)}function H(e){var t,a=e.account,n=e.appConfig,r=e.accountInfo;return Object(v.jsx)(h,{className:E.a.card,children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)("div",{className:E.a.titleWrapper,children:Object(v.jsx)("h2",{className:E.a.title,children:W("accountDetailsInfoCard.title")})}),Object(v.jsx)(P,{rows:[{label:W("accountDetailsInfoCard.label.balance"),value:Object(v.jsxs)("span",{children:[z(null!==(t=null===a||void 0===a?void 0:a.balance)&&void 0!==t?t:"0",n.stakeTokenDecimals)," ",n.stakeTokenSymbol]})},{label:W("accountDetailsInfoCard.label.totalStaked"),value:Object(v.jsxs)("span",{children:[z(r.totalStaked,n.stakeTokenDecimals)," ",n.stakeTokenSymbol]})},{label:W("accountDetailsInfoCard.label.totalClaimed"),value:Object(v.jsxs)("span",{children:[z(r.totalClaimed,n.stakeTokenDecimals)," ",n.stakeTokenSymbol]})},{label:W("accountDetailsInfoCard.label.totalDisputes"),value:Object(v.jsx)("span",{children:r.totalDisputes})},{label:W("accountDetailsInfoCard.label.timesSlashed"),value:Object(v.jsx)("span",{children:r.timesSlashed})},{label:W("accountDetailsInfoCard.label.totalSlashed"),value:Object(v.jsxs)("span",{children:[z(r.totalSlashed,n.stakeTokenDecimals)," ",n.stakeTokenSymbol]})},{label:W("accountDetailsInfoCard.label.storageUsed"),info:W("accountDetailsInfoCard.info.storageUsed",{nativeToken:n.nativeTokenSymbol}),value:Object(v.jsxs)("span",{children:[z(r.storageUsed,n.nativeTokenDecimals,4)," ",n.nativeTokenSymbol]})},{label:W("accountDetailsInfoCard.label.storageUnused"),info:W("accountDetailsInfoCard.info.storageUnused",{nativeToken:n.nativeTokenSymbol}),value:Object(v.jsxs)("span",{children:[z(r.storageAvailable,n.nativeTokenDecimals,4)," ",n.nativeTokenSymbol]})}]})]})})}function J(){var e=Object(s.c)((function(e){return e.account.accountDetail})),t=Object(s.c)((function(e){return e.appconfig.appConfig}));return Object(v.jsx)(H,{account:e.account,accountInfo:e.info,appConfig:t})}var K=a(21),V=a(297),G=a(520),Y=a(282),X=a.n(Y),Z=a(299),Q=a(272),ee=a.n(Q);function te(e){var t=e.children,a=e.className,n=e.onClick;return Object(v.jsx)("button",{onClick:n,className:f()(ee.a.button,a),children:t})}var ae=a(3),ne=a.n(ae),re=a(11),oe=a(514),ce=a(490),se=a(273),ie=a.n(se);function le(e){var t=e.label,a=e.className,n=e.value,o=e.onChange,c=void 0===o?function(){}:o,s=Object(r.useCallback)((function(e){c(e.currentTarget.value)}),[c]);return Object(v.jsx)(oe.a,{label:t,className:a,value:n,type:"search",onChange:s,InputProps:{endAdornment:Object(v.jsx)(ce.a,{position:"start",children:Object(v.jsx)(ie.a,{})})}})}function ue(e){var t=e.onSearch,a=e.className,n=e.inputClassName,o=Object(r.useState)(""),c=Object(K.a)(o,2),s=c[0],i=c[1],l=Object(r.useCallback)((function(e){e.preventDefault(),t(s)}),[s,t]);return Object(v.jsxs)("form",{className:a,onSubmit:l,children:[Object(v.jsx)(le,{label:W("menu.label.search"),onChange:function(e){return i(e)},value:s,className:n}),Object(v.jsx)("input",{type:"submit",hidden:!0})]})}var de,be,fe,pe,me,je=a(44),ve=a(31),he=new Map,ke=new Map;function Oe(e,t,a){return ge.apply(this,arguments)}function ge(){return(ge=Object(re.a)(ne.a.mark((function e(t,a,n){var r,o,c,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=he.get(t))){e.next=3;break}return e.abrupt("return",r);case 3:if(!(o=ke.get(t))){e.next=6;break}return e.abrupt("return",o);case 6:return c=a(),ke.set(t,c),e.prev=8,e.next=11,c;case 11:return s=e.sent,he.set(t,s),n&&setTimeout((function(){he.delete(t)}),n),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(8),e.t0;case 20:return e.prev=20,ke.delete(t),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[8,17,20,23]])})))).apply(this,arguments)}var xe=null!==(de="https://testnet-oracle.flux.xyz/graphql")?de:"",_e="https://api.coingecko.com/api/v3/",ye=10,we=null!==(be="testnet")?be:"testnet",Ie=null!==(fe="null_contract.flux-dev")?fe:"null_address.near",Se=null!==(pe="07.oracle.flux-dev")?pe:"oracle.flux-dev",Ce="250000000000000",qe=null!==(me="https://docs.google.com/spreadsheets/d/1hTpOq3oikSuIjILUXdcb676X2Rmu6ZqYczaBk4NsqtA/gviz/tq?tqx=out:csv&sheet=ImportantMessage")?me:"";L.a.PE=1e6;var Re=a(274),De=a.n(Re);function Ae(){return Te.apply(this,arguments)}function Te(){return(Te=Object(re.a)(ne.a.mark((function e(){var t,a,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(qe);case 3:return e.next=5,e.sent.text();case 5:return t=e.sent,e.next=8,De()().fromString(t);case 8:return a=e.sent,n=[],a.forEach((function(e){e.net===we&&"1"===e.activate&&n.push({key:e.key,message:e.value,type:e.type})})),e.abrupt("return",{bondTokenDecimals:18,bondTokenSymbol:"?",importantMessages:n,nativeTokenDecimals:18,nativeTokenSymbol:"?",stakeTokenDecimals:18,stakeTokenSymbol:"?"});case 14:return e.prev=14,e.t0=e.catch(0),console.error("[getDefaultAppConfig]",e.t0),e.abrupt("return",{bondTokenDecimals:18,bondTokenSymbol:"?",importantMessages:[],nativeTokenDecimals:18,nativeTokenSymbol:"?",stakeTokenDecimals:18,stakeTokenSymbol:"?"});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}var Ne,Pe=a(19),Me=a(17);function We(e){if("Invalid"===e)return{type:Ne.Invalid};var t=JSON.parse(e);if("String"in t.Answer)return{answer:t.Answer.String,type:Ne.Answer};var a=new L.a(t.Answer.Number.value).div(t.Answer.Number.multiplier);return t.Answer.Number.negative&&(a.s=-1),{answer:a.toString(),type:Ne.Answer}}function Fe(e){return e.type===Ne.Invalid?W("outcome.invalid"):'"'.concat(e.answer,'"')}function Ue(e,t){return"undefined"!==typeof e&&"undefined"!==typeof t&&(e.type===Ne.Invalid&&t.type===Ne.Invalid||JSON.stringify(e)===JSON.stringify(t))}!function(e){e[e.Answer=0]="Answer",e[e.Invalid=1]="Invalid"}(Ne||(Ne={}));var Ee=a(89),Be=a(73),Le=a.n(Be);function ze(e,t,a){return $e.apply(this,arguments)}function $e(){return($e=Object(re.a)(ne.a.mark((function e(t,a,n){var r,o,c,s,i;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getAccountId(),e.next=3,t._near.connection.signer.getPublicKey(r,t._near.connection.networkId);case 3:return o=e.sent,e.next=6,t._near.connection.provider.block({finality:"final"});case 6:return c=e.sent,s=Ee.utils.serialize.base_decode(c.header.hash),e.next=10,Promise.all(a.map(function(){var e=Object(re.a)(ne.a.mark((function e(a,n){var c,i,l,u,d,b;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.receiverId,i=a.transactionOptions,l=i.map((function(e){var t;return Ee.transactions.functionCall(e.methodName,null!==(t=e.args)&&void 0!==t?t:{},new Le.a(e.gas),new Le.a(e.amount))})),e.next=4,t.account().accessKeyForTransaction(c,l,o);case 4:if(u=e.sent){e.next=7;break}throw new Error("Cannot find matching key for transaction sent to ".concat(c));case 7:return d=Ee.utils.PublicKey.from(u.public_key),b=u.access_key.nonce+n+1,e.abrupt("return",Ee.transactions.createTransaction(r,d,c,b,l,s));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 10:return i=e.sent,e.abrupt("return",t.requestSignTransactions(i,n));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(re.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account(),e.abrupt("return",Oe("near_latest_oracle_config",Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.viewFunction(Se,"get_config",{}));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(re.a)(ne.a.mark((function e(t,a){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account(),e.next=3,He(t);case 3:return r=e.sent,e.abrupt("return",n.viewFunction(r.stake_token,"ft_balance_of",{account_id:a}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t){if(t.type===Ne.Invalid)return"Invalid";if("String"===e.data_type)return{Answer:{String:t.answer}};var a=new L.a(t.answer),n=a.lt(0);return a=a.mul(e.number_multiplier),n&&(a=a.mul(-1)),{Answer:{Number:{value:a.toFixed(0),negative:n,multiplier:e.number_multiplier}}}}function Ye(e){return"mainnet"===we?{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",walletUrl:"https://wallet.near.org"}:{networkId:"testnet",nodeUrl:e.customNodeUrl||"https://rpc.testnet.near.org",contractName:null,walletUrl:e.customWalletUrl||"https://wallet.testnet.near.org",initialBalance:"100000000"}}var Xe=void 0;function Ze(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(re.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.nearInstance){e.next=2;break}return e.abrupt("return",t.nearInstance);case 2:if(!Xe){e.next=4;break}return e.abrupt("return",Xe);case 4:return a=Ye(t),e.next=7,Object(Ee.connect)(Object(n.a)(Object(n.a)({},a),{},{deps:{keyStore:new Ee.keyStores.BrowserLocalStorageKeyStore}}));case 7:return Xe=e.sent,e.abrupt("return",Xe);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var et=void 0;function tt(){return at.apply(this,arguments)}function at(){return(at=Object(re.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!et){e.next=2;break}return e.abrupt("return",et);case 2:return e.next=4,Ze({});case 4:return t=e.sent,et=new Ee.WalletConnection(t,Ie),e.abrupt("return",et);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=Object(re.a)(ne.a.mark((function e(t,a){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe("".concat(t,"_minimum_storage_balance"),Object(re.a)(ne.a.mark((function e(){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.account(),e.next=3,n.viewFunction(t,"storage_balance_bounds",{});case 3:return r=e.sent,e.abrupt("return",L()(r.min));case 5:case"end":return e.stop()}}),e)}))));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.error("[getMinimumStorage]",e.t0),e.abrupt("return",new L.a(0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ot(e,t,a){return ct.apply(this,arguments)}function ct(){return(ct=Object(re.a)(ne.a.mark((function e(t,a,n){var r,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n.account(),e.next=4,r.viewFunction(t,"storage_balance_of",{account_id:a});case 4:return o=e.sent,e.abrupt("return",{total:o?new L.a(o.total):new L.a(0),available:o?new L.a(o.available):new L.a(0)});case 8:return e.prev=8,e.t0=e.catch(0),console.error("[getStorageBalance]",e.t0),e.abrupt("return",{total:new L.a(0),available:new L.a(0)});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function st(e,t,a){return it.apply(this,arguments)}function it(){return(it=Object(re.a)(ne.a.mark((function e(t,a,n){var r,o,c,s,i=arguments;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>3&&void 0!==i[3]?i[3]:new L.a(0),e.next=3,nt(t,n);case 3:return o=e.sent,e.next=6,ot(t,a,n);case 6:if(c=e.sent,s=o.add(r),!c.available.lt(s)){e.next=10;break}return e.abrupt("return",{receiverId:t,transactionOptions:[{amount:s.sub(c.available).toString(),gas:Ce,methodName:"storage_deposit",args:{accountId:a}}]});case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lt,ut=function(){function e(){Object(Pe.a)(this,e),this.id="near",this.nativeTokenSymbol="NEAR",this.nativeTokenDecimals=24}return Object(Me.a)(e,[{key:"init",value:function(){var e=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt();case 2:return e.sent.requestSignIn(Ie,"oracle"),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt();case 2:return e.sent.signOut(),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isLoggedIn",value:function(){var e=Object(re.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt();case 2:return t=e.sent,e.abrupt("return",t.isSignedIn());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getLoggedInAccountId",value:function(){var e=Object(re.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt();case 2:return t=e.sent,e.abrupt("return",t.getAccountId());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountInfo",value:function(){var e=Object(re.a)(ne.a.mark((function e(t){var a,n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt();case 3:return a=e.sent,e.next=6,Ke(a,t);case 6:return n=e.sent,e.next=9,this.getStorageBalance(t);case 9:return r=e.sent,e.abrupt("return",{accountId:t,balance:n,storageAvailable:r.available,storageTotal:r.total,storageUsed:r.used});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{accountId:t,balance:"0",storageAvailable:"0",storageTotal:"0",storageUsed:"0"});case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stake",value:function(){var e=Object(re.a)(ne.a.mark((function e(t,a,n){var r,o,c,s,i;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt();case 2:return r=e.sent,o=Ge(a,n),e.next=6,this.getLoggedInAccountId();case 6:return c=e.sent,e.next=9,st(Se,c,r);case 9:return s=e.sent,i=[],s&&i.push(s),i.push({receiverId:a.config.stakeToken.contractId,transactionOptions:[{amount:"1",gas:Ce,methodName:"ft_transfer_call",args:{receiver_id:Se,amount:t,msg:JSON.stringify({StakeDataRequest:{id:a.id,outcome:o}})}}]}),e.next=15,ze(r,i);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"unstake",value:function(){var e=Object(re.a)(ne.a.mark((function e(t,a,n,r){var o,c,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt();case 2:if(o=e.sent,c=o.account()){e.next=6;break}return e.abrupt("return",!1);case 6:return s=Ge(n,r),e.next=9,c.functionCall(Se,"dr_unstake",{request_id:n.id,resolution_round:a,outcome:s,amount:t},Ce,"1");case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"finalize",value:function(){var e=Object(re.a)(ne.a.mark((function e(t){var a,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt();case 2:if(a=e.sent,a.account()){e.next=6;break}return e.abrupt("return",!1);case 6:return(n=[]).push({receiverId:Se,transactionOptions:[{amount:"0",gas:Ce,methodName:"dr_finalize",args:{request_id:t.id}}]}),e.next=10,ze(a,n);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"claim",value:function(){var e=Object(re.a)(ne.a.mark((function e(t,a){var n,r,o,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt();case 2:if(n=e.sent,n.account()){e.next=6;break}return e.abrupt("return",!1);case 6:return r={receiverId:Se,transactionOptions:[]},o=a.loggedInAccountStakes.filter((function(e){return!e.bonded&&new L.a(e.totalStake).gt(0)})),c=new L.a(Ce).div(2).round(0,0),o.length&&(r.transactionOptions=o.map((function(e){var t=Ge(a,e.outcome);return{amount:"1",gas:c.div(o.length).round(0,0).toString(),methodName:"dr_unstake",args:{request_id:e.dataRequestId,resolution_round:e.round,outcome:t,amount:e.totalStake.toString()}}}))),a.loggedInAccountStakes.some((function(e){return Ue(e.outcome,a.finalized_outcome)}))&&r.transactionOptions.push({amount:"30000000000000000000000",gas:c.toString(),methodName:"dr_claim",args:{request_id:a.id,account_id:t}}),e.next=14,ze(n,[r]);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getStorageBalance",value:function(){var e=Object(re.a)(ne.a.mark((function e(t){var a,n,r,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt();case 3:if(a=e.sent,n=a.account()){e.next=7;break}return e.abrupt("return",{total:"0",available:"0",used:"0"});case 7:return e.next=9,n.viewFunction(Se,"storage_balance_of",{account_id:t});case 9:return r=e.sent,o=new L.a(r.total).sub(r.available),e.abrupt("return",{total:r.total,available:r.available,used:o.toString()});case 14:return e.prev=14,e.t0=e.catch(0),console.error("[getStorageBalance -> NEAR]",e.t0),e.abrupt("return",{total:"0",available:"0",used:"0"});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"withdrawStorage",value:function(){var e=Object(re.a)(ne.a.mark((function e(t){var a,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt();case 2:return a=e.sent,n=a.account(),e.next=6,n.functionCall(Se,"storage_withdraw",{amount:t},Ce,"1");case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenInfo",value:function(){var e=Object(re.a)(ne.a.mark((function e(t){var a,n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt();case 3:return a=e.sent,n=a.account(),e.next=7,n.viewFunction(t,"ft_metadata",{});case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),console.error("[NearProvider-getTokenInfo]",e.t0),e.abrupt("return",void 0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAppConfig",value:function(){var e=Object(re.a)(ne.a.mark((function e(){var t,a,n,r,o,c,s,i;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt();case 2:return o=e.sent,e.next=5,He(o);case 5:return c=e.sent,e.next=8,this.getTokenInfo(c.stake_token);case 8:return s=e.sent,e.next=11,this.getTokenInfo(c.payment_token);case 11:return i=e.sent,e.abrupt("return",{nativeTokenDecimals:this.nativeTokenDecimals,nativeTokenSymbol:this.nativeTokenSymbol,stakeTokenDecimals:null!==(t=null===s||void 0===s?void 0:s.decimals)&&void 0!==t?t:18,stakeTokenSymbol:null!==(a=null===s||void 0===s?void 0:s.symbol)&&void 0!==a?a:c.stake_token,bondTokenDecimals:null!==(n=null===i||void 0===i?void 0:i.decimals)&&void 0!==n?n:18,bondTokenSymbol:null!==(r=null===i||void 0===i?void 0:i.symbol)&&void 0!==r?r:c.payment_token,importantMessages:[]});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dt=[];function bt(){return(bt=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lt){e.next=4;break}return e.next=3,lt;case 3:return e.abrupt("return");case 4:return dt=[new ut],lt=Promise.all(dt.map((function(e){return e.init()}))),e.next=8,lt;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e){return dt.find((function(t){return t.id===e}))}function pt(){return dt.find((function(e){return e.isLoggedIn()}))}function mt(e){return jt.apply(this,arguments)}function jt(){return(jt=Object(re.a)(ne.a.mark((function e(t){var a,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ft(t),e.abrupt("return",null!==(a=null===n||void 0===n?void 0:n.login())&&void 0!==a&&a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e){return ht.apply(this,arguments)}function ht(){return(ht=Object(re.a)(ne.a.mark((function e(t){var a,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ft(t),e.abrupt("return",null!==(a=null===n||void 0===n?void 0:n.logout())&&void 0!==a&&a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(re.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=pt(),e.abrupt("return",t?t.getLoggedInAccountId():void 0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(re.a)(ne.a.mark((function e(t,a){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ft(t),e.next=3,null===n||void 0===n?void 0:n.getAccountInfo(a);case 3:if((r=e.sent)&&n){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.abrupt("return",{accountId:r.accountId,balance:r.balance,providerId:n.id,storageAvailable:r.storageAvailable,storageTotal:r.storageTotal,storageUsed:r.storageUsed});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(){return yt.apply(this,arguments)}function yt(){return(yt=Object(re.a)(ne.a.mark((function e(){var t,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=pt()){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.next=5,t.getLoggedInAccountId();case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",void 0);case 8:return e.abrupt("return",gt(t.id,a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e){return It.apply(this,arguments)}function It(){return(It=Object(re.a)(ne.a.mark((function e(t){var a,r,o,c,s,i,l,u,d;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=ft(t),e.next=3,null===l||void 0===l?void 0:l.getAppConfig();case 3:return u=e.sent,e.next=6,Ae();case 6:return d=e.sent,e.abrupt("return",Object(n.a)(Object(n.a)({},d),{},{nativeTokenDecimals:null!==(a=null===u||void 0===u?void 0:u.nativeTokenDecimals)&&void 0!==a?a:18,nativeTokenSymbol:null!==(r=null===u||void 0===u?void 0:u.nativeTokenSymbol)&&void 0!==r?r:"?",stakeTokenDecimals:null!==(o=null===u||void 0===u?void 0:u.stakeTokenDecimals)&&void 0!==o?o:18,stakeTokenSymbol:null!==(c=null===u||void 0===u?void 0:u.stakeTokenSymbol)&&void 0!==c?c:"?",bondTokenDecimals:null!==(s=null===u||void 0===u?void 0:u.bondTokenDecimals)&&void 0!==s?s:18,bondTokenSymbol:null!==(i=null===u||void 0===u?void 0:u.bondTokenSymbol)&&void 0!==i?i:"?"}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(e,t,a,n){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(re.a)(ne.a.mark((function e(t,a,n,r){var o,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=ft(t),e.abrupt("return",null!==(o=null===c||void 0===c?void 0:c.stake(a,n,r))&&void 0!==o&&o);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(re.a)(ne.a.mark((function e(t,a){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ft(t),e.abrupt("return",null!==(n=null===r||void 0===r?void 0:r.finalize(a))&&void 0!==n&&n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(e,t,a){return At.apply(this,arguments)}function At(){return(At=Object(re.a)(ne.a.mark((function e(t,a,n){var r,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ft(t),e.abrupt("return",null!==(r=null===o||void 0===o?void 0:o.claim(a,n))&&void 0!==r&&r);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e,t,a,n,r){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(re.a)(ne.a.mark((function e(t,a,n,r,o){var c,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=ft(t),e.abrupt("return",null!==(c=null===s||void 0===s?void 0:s.unstake(a,n,r,o))&&void 0!==c&&c);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(re.a)(ne.a.mark((function e(t,a){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ft(t),e.abrupt("return",null!==(n=null===r||void 0===r?void 0:r.getStorageBalance(a))&&void 0!==n?n:{total:"0",available:"0",used:"0"});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(re.a)(ne.a.mark((function e(t,a){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oe("tokeninfo_".concat(t,"_").concat(a),Object(re.a)(ne.a.mark((function e(){var n,r,o,c,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=ft(t),e.next=3,null===c||void 0===c?void 0:c.getTokenInfo(a);case 3:return s=e.sent,e.abrupt("return",{decimals:null!==(n=null===s||void 0===s?void 0:s.decimals)&&void 0!==n?n:18,name:null!==(r=null===s||void 0===s?void 0:s.name)&&void 0!==r?r:a,symbol:null!==(o=null===s||void 0===s?void 0:s.symbol)&&void 0!==o?o:a,contractId:a});case 5:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ut=a(275),Et=a.n(Ut);function Bt(e){return Et()(e,"MMMM d, yyyy HH:mm:ss")}function Lt(e){return e/1e6}function zt(e,t){var a=0;a="sec"===t?e:"ns"===t?Math.floor(e/1e9):Math.floor(e/1e3);var n=Math.floor(a/60);a%=60;var r=Math.floor(n/60);return n%=60,{days:Math.floor(r/24),hours:r%=24,minutes:n,seconds:a}}function $t(e){try{return JSON.parse(e)}catch(t){return null}}function Ht(e){return{payout:e.payout,userCorrectStake:e.user_correct_stake}}function Jt(e){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(re.a)(ne.a.mark((function e(t){var a,n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt("near",t.stake_token);case 2:return n=e.sent,e.next=5,Wt("near",t.payment_token);case 5:return r=e.sent,e.abrupt("return",{blockHeight:t.block_height,bondToken:r,date:new Date(Number(t.date)),defaultChallengeWindowDuration:t.default_challenge_window_duration,finalArbitrator:t.final_arbitrator,finalArbitratorInvokeAmount:t.final_arbitrator_invoke_amount,gov:t.gov,id:t.id,maxOutcomes:t.max_outcomes,minInitialChallengeWindowDuration:t.min_initial_challenge_window_duration,resolutionFeePercentage:null!==(a=t.resolution_fee_percentage)&&void 0!==a?a:t.fee.resolution_fee_percentage,stakeToken:n,validityBond:t.validity_bond,fluxMarketCap:t.fee.flux_market_cap,totalValueStaked:t.fee.total_value_staked});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vt,Gt=a(276);function Yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=!1,n=t[e.round],r=We(e.outcome);return n&&Ue(n.bondedOutcome,r)&&(a=!0),{outcome:r,accountId:e.account_id,dataRequestId:e.data_request_id,totalStake:e.total_stake,round:e.round,bonded:a}}function Xt(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(re.a)(ne.a.mark((function e(t,a){var n,r,o,c,s,i,l,u,d,b,f,p,m,j,v;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},r=!0,o=!1,e.prev=3,s=Object(Gt.a)(t);case 5:return e.next=7,s.next();case 7:return i=e.sent,r=i.done,e.next=11,i.value;case 11:if(l=e.sent,r){e.next=28;break}if(j=null!==(u=n[(m=l).account_id])&&void 0!==u?u:[],null===a||void 0===a){e.next=19;break}e.t0=a,e.next=22;break;case 19:return e.next=21,Wt("near",null!==(d=null===(b=m.data_request)||void 0===b?void 0:b.config.stake_token)&&void 0!==d?d:"");case 21:e.t0=e.sent;case 22:v=e.t0,j.push({outcome:We(m.outcome),stake:m.total_stake,round:m.round,dataRequestId:m.data_request_id,accountId:m.account_id,finalizedOutcome:(null===(f=m.data_request)||void 0===f?void 0:f.finalized_outcome)?We(m.data_request.finalized_outcome):void 0,claimPayout:null===(p=m.claim)||void 0===p?void 0:p.payout,stakeToken:v,bonded:!1}),n[m.account_id]=j;case 25:r=!0,e.next=5;break;case 28:e.next=34;break;case 30:e.prev=30,e.t1=e.catch(3),o=!0,c=e.t1;case 34:if(e.prev=34,e.prev=35,r||null==s.return){e.next=39;break}return e.next=39,s.return();case 39:if(e.prev=39,!o){e.next=42;break}throw c;case 42:return e.finish(39);case 43:return e.finish(34);case 44:return e.abrupt("return",n);case 45:case"end":return e.stop()}}),e,null,[[3,30,34,44],[35,,39,43]])})))).apply(this,arguments)}function Qt(e,t){return ea.apply(this,arguments)}function ea(){return(ea=Object(re.a)(ne.a.mark((function e(t,a){var n,r,o,c,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new L.a(0),c=t.bonded_outcome?We(t.bonded_outcome):void 0,s=t.outcome_stakes.map((function(e){r=r.add(e.total_stake);var t=We(e.outcome),n={outcome:t,stake:e.total_stake,dataRequestId:e.data_request_id,round:e.round,bonded:!!c&&Ue(t,c),stakeToken:null!==a&&void 0!==a?a:{contractId:"",decimals:18,name:"",symbol:""}};o?new L.a(o.stake).lt(n.stake)&&(o=n):o=n;return n})),e.t0=t.bond_size,e.t1=new Date(Number(t.end_time)/1e6),e.t2=s,e.t3=!!(null===(n=o)||void 0===n?void 0:n.stake)&&new L.a(o.stake).eq(t.bond_size),e.t4=r.toString(),e.t5=t.round,e.next=11,Xt(t.user_stakes,a);case 11:return e.t6=e.sent,e.t7=c,e.t8=o,e.abrupt("return",{bondSize:e.t0,endTime:e.t1,outcomeStakes:e.t2,filled:e.t3,totalStaked:e.t4,round:e.t5,userStakes:e.t6,bondedOutcome:e.t7,winningOutcomeStake:e.t8});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e){return{id:e.id,date:new Date(Number(e.date)),requestor:e.requestor_account_id,finalized_outcome:e.finalized_outcome?We(e.finalized_outcome):void 0,type:e.sources.length?Vt.Api:Vt.Arbitrator}}function aa(e){return na.apply(this,arguments)}function na(){return(na=Object(re.a)(ne.a.mark((function e(t){var a,r,o,c,s,i,l,u,d;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt("near",t.config.stake_token);case 2:return s=e.sent,e.next=5,Wt("near",t.config.payment_token);case 5:return i=e.sent,e.next=8,Promise.all(t.resolution_windows.map((function(e){return Qt(e,s)})));case 8:return l=e.sent,u=l.reduce((function(e,t){return e.add(t.totalStaked)}),new L.a(0)),d=$t(t.data_type),e.t0=n.a,e.t1=Object(n.a)({},ta(t)),e.t2={},e.next=16,Jt(t.config);case 16:return e.t3=e.sent,e.t4=new Date(Lt(Number(t.settlement_time))),e.t5=l,e.t6=null!==(a=t.description)&&void 0!==a?a:void 0,e.t7=t.sources.map((function(e){return{endPoint:e.end_point,sourcePath:e.source_path}})),e.t8=null!==(r=t.fee)&&void 0!==r?r:"0",e.t9=t.outcomes,e.t10=u.toString(),e.t11=t.finalized_outcome?We(t.finalized_outcome):void 0,e.t12=t.final_arbitrator_triggered,e.t13=null!==(o=t.tags)&&void 0!==o?o:[],e.t14=d?"Number":"String",e.t15=d?d.Number:void 0,e.t16=s,e.t17=i,e.t18=t.total_correct_bonded_staked,e.t19=t.total_incorrect_staked,e.t20=null!==(c=t.paid_fee)&&void 0!==c?c:void 0,e.t21=t.claim?Ht(t.claim):void 0,e.t22=t.account_stakes.map((function(e){return Yt(e,l)})),e.t23={config:e.t3,settlementTime:e.t4,resolutionWindows:e.t5,description:e.t6,sources:e.t7,fee:e.t8,outcomes:e.t9,totalStaked:e.t10,finalized_outcome:e.t11,finalArbitratorTriggered:e.t12,tags:e.t13,data_type:e.t14,number_multiplier:e.t15,stakeToken:e.t16,bondToken:e.t17,totalCorrectStaked:e.t18,totalIncorrectStaked:e.t19,paidFee:e.t20,loggedInAccountClaim:e.t21,loggedInAccountStakes:e.t22},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t23));case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.Arbitrator=0]="Arbitrator",e[e.Api=1]="Api"}(Vt||(Vt={}));var ra,oa,ca,sa=a(173),ia=new sa.InMemoryCache,la=Object(sa.createHttpLink)({uri:xe}),ua=new sa.ApolloClient({cache:ia,link:la,defaultOptions:{watchQuery:{fetchPolicy:"cache-and-network"}}});function da(e,t){return ba.apply(this,arguments)}function ba(){return(ba=Object(re.a)(ne.a.mark((function e(t,a){var n,r,o,c,s,i;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,r=t.offset,o=a.onlyArbitratorRequests,c=a.requestor,e.prev=2,e.next=5,ua.query({fetchPolicy:"network-only",query:Object(ve.a)(ra||(ra=Object(je.a)(["\n                query GetAllDataRequests($limit: Int, $offset: Int, $onlyArbitratorRequests: Boolean, $requestor: String) {\n                    dataRequests: getDataRequests(limit: $limit, offset: $offset, onlyArbitratorRequests: $onlyArbitratorRequests, requestor: $requestor) {\n                        total\n                        items {\n                            id\n                            date\n                            requestor_account_id\n                            finalized_outcome\n                            sources {\n                                end_point\n                                source_path\n                            }\n                        }\n                    }\n                }\n            "]))),variables:{limit:n,offset:r,onlyArbitratorRequests:o,requestor:c}});case 5:return s=e.sent,i=s.data.dataRequests.items.map((function(e){return ta(e)})),e.abrupt("return",{total:s.data.dataRequests.total,items:i});case 10:return e.prev=10,e.t0=e.catch(2),console.error("[getAllDataRequests]",e.t0),e.abrupt("return",{total:0,items:[]});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function fa(e,t){return pa.apply(this,arguments)}function pa(){return(pa=Object(re.a)(ne.a.mark((function e(t,a){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ua.query({fetchPolicy:"network-only",query:Object(ve.a)(oa||(oa=Object(je.a)(["\n                query GetDataRequest($id: String!, $accountId: String) {\n                    dataRequest: getDataRequest(id: $id) {\n                        block_height\n                        date\n                        final_arbitrator_triggered\n                        global_config_id\n                        total_incorrect_staked\n                        total_correct_bonded_staked\n                        id\n                        claim(accountId: $accountId) {\n                            payout\n                            user_correct_stake\n                        }\n                        initial_challenge_period\n                        outcomes\n                        requestor_account_id\n                        finalized_outcome\n                        paid_fee\n                        description\n                        settlement_time\n                        tags\n                        data_type\n                        fee\n                        account_stakes(accountId: $accountId) {\n                            outcome\n                            total_stake\n                            round\n                            account_id\n                            data_request_id\n                        }\n                        whitelist_item {\n                            active\n                            code_base_url\n                            custom_fee\n                            interface_name\n                        }\n                        sources {\n                            end_point\n                            source_path\n                        }\n                        config {\n                            block_height\n                            payment_token\n                            date\n                            default_challenge_window_duration\n                            final_arbitrator\n                            final_arbitrator_invoke_amount\n                            gov\n                            id\n                            max_outcomes\n                            min_initial_challenge_window_duration\n                            resolution_fee_percentage\n                            stake_token\n                            validity_bond\n                            fee {\n                                flux_market_cap\n                                resolution_fee_percentage\n                                total_value_staked\n                            }\n                        }\n                        resolution_windows {\n                            block_height\n                            bond_size\n                            bonded_outcome\n                            date\n                            dr_id\n                            end_time\n                            id\n                            outcome_stakes {\n                                data_request_id\n                                id\n                                round\n                                total_stake\n                                outcome\n                            }\n                            round\n                            user_stakes {\n                                account_id\n                                data_request_id\n                                id\n                                outcome\n                                round\n                                total_stake\n                            }\n                        }\n                    }\n                }\n            "]))),variables:{id:t,accountId:a}});case 3:return n=e.sent,e.abrupt("return",aa(n.data.dataRequest));case 7:return e.prev=7,e.t0=e.catch(0),console.error("[getDataRequestById]",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ma(e){return ja.apply(this,arguments)}function ja(){return(ja=Object(re.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ua.query({query:Object(ve.a)(ca||(ca=Object(je.a)(["\n                query DataRequestExists($id: String!) {\n                    request: getDataRequest(id: $id) {\n                        id\n                    }\n                }\n            "]))),variables:{id:t}});case 3:if((a=e.sent).data.request&&a.data.request.id){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),console.error("[doesDataRequestExists]",e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function va(e){return ha.apply(this,arguments)}function ha(){return(ha=Object(re.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!isNaN(Number(t))){e.next=3;break}return e.abrupt("return",{items:[{url:vs.account("near",t)}],total:1});case 3:return e.next=5,ma(t);case 5:if(!e.sent){e.next=8;break}return e.abrupt("return",{items:[{url:vs.dataRequestDetail("near",t)}],total:1});case 8:return e.abrupt("return",{items:[],total:0});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{items:[],total:0});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function ka(e){var t=e.className,a=e.inputClassName,n=Object(l.f)(),o=Object(r.useCallback)(function(){var e=Object(re.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va(t);case 2:if(0!==(a=e.sent).total){e.next=6;break}return n.push(vs.search(t)),e.abrupt("return");case 6:n.push(a.items[0].url);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);return Object(v.jsx)(ue,{onSearch:o,className:t,inputClassName:a})}var Oa=a(35),ga=a.n(Oa),xa=a(515),_a=a(492),ya=a(493),wa=a(494),Ia=a(491),Sa=a(280),Ca=a.n(Sa);function qa(e){var t=e.children,a=e.className,n=e.disabled,r=void 0!==n&&n,o=e.onClick,c=void 0===o?function(){}:o;return Object(v.jsx)(Ia.a,{className:f()(a,Ca.a.button),variant:"contained",onClick:c,disabled:r,children:t})}var Ra=a(104),Da=a.n(Ra);function Aa(e){var t=e.title,a=e.children,n=e.open,r=e.isInfoDialog,o=void 0!==r&&r,c=e.onRequestClose,s=e.onSubmitClick,i=void 0===s?function(){}:s,l=e.canSubmit,u=void 0===l||l,d=e.hideButtons,b=void 0!==d&&d,p=e.paperClassName,m=void 0===p?"":p;return Object(v.jsxs)(xa.a,{open:n,classes:{paper:f()(Da.a.paper,m)},children:[Object(v.jsx)(_a.a,{className:Da.a.title,children:t}),Object(v.jsx)(ya.a,{className:Da.a.content,children:a}),o&&Object(v.jsx)(wa.a,{children:Object(v.jsx)(qa,{className:Da.a.cancelButton,onClick:c,children:W("global.action.close")})}),!b&&Object(v.jsxs)(wa.a,{children:[Object(v.jsx)(qa,{className:Da.a.cancelButton,onClick:c,children:W("global.action.cancel")}),Object(v.jsx)(qa,{disabled:!u,className:Da.a.confirmButton,onClick:i,children:W("global.action.submit")})]})]})}var Ta=a(206),Na=a.n(Ta),Pa=a(6),Ma=a(281),Wa=a.n(Ma);function Fa(e){var t=e.className,a=e.label,n=e.type,r=e.onChange,o=void 0===r?function(){}:r,c=e.value,s=e.error,i=e.endAdornment;return Object(v.jsx)(oe.a,{label:a,className:f()(t,Wa.a.input),type:n,onChange:function(e){return o(e.currentTarget.value)},value:c,error:!!s,helperText:s,InputProps:{endAdornment:i}})}function Ua(e){var t=e.showMax,a=void 0!==t&&t,r=e.onMaxClick,o=void 0===r?function(){}:r,c=Object(Pa.a)(e,["showMax","onMaxClick"]);return Object(v.jsx)(Fa,Object(n.a)(Object(n.a)({},c),{},{type:"number",endAdornment:Object(v.jsx)(v.Fragment,{children:a&&Object(v.jsx)(ce.a,{position:"end",children:Object(v.jsx)(Ia.a,{onClick:o,children:W("global.max")})})})}))}function Ea(e){var t=e.open,a=e.account,n=e.appConfig,o=e.onRequestClose,c=e.onSubmit,s=Object(r.useState)({amount:"0",amountFormatted:"0"}),i=Object(K.a)(s,2),l=i[0],u=i[1],d=function(e,t){var a={amount:"",canSubmit:!0};if(e.amount){var n=new L.a(e.amount);n.gt(t.storageAvailable)&&(a.amount=W("storageManagerDialog.errors.withdrawAmount.notEnoughToWithdraw"),a.canSubmit=!1),n.lte(0)&&(a.canSubmit=!1)}return a}(l,a);var b=Object(r.useCallback)((function(){u({amount:a.storageAvailable,amountFormatted:z(a.storageAvailable,n.nativeTokenDecimals,4)})}),[a,n]);return Object(v.jsx)(Aa,{open:t,onRequestClose:o,title:W("storageManagerDialog.title"),onSubmitClick:function(){return c(l)},canSubmit:d.canSubmit,children:Object(v.jsxs)("form",{children:[Object(v.jsx)("p",{children:W("storageManagerDialog.description",{nativeToken:n.nativeTokenSymbol})}),Object(v.jsx)("p",{children:W("storageManagerDialog.label.amountAvailable",{amount:z(a.storageAvailable,n.nativeTokenDecimals,4),nativeToken:n.nativeTokenSymbol})}),Object(v.jsx)("div",{className:Na.a.formItem,children:Object(v.jsx)(Ua,{label:W("storageManagerDialog.label.withdrawAmount",{nativeToken:n.nativeTokenSymbol}),className:Na.a.formInput,value:l.amountFormatted,onChange:function(e){e&&new L.a(e).lt(0)||u({amount:e?$(e,n.nativeTokenDecimals):"0",amountFormatted:e||""})},type:"number",error:d.amount,showMax:!0,onMaxClick:b})})]})})}var Ba,La=a(64),za=Object(La.a)({initialState:{stakeDialog:{open:!1},unstakeDialog:{open:!1},storageManager:{open:!1}},name:"dialogs",reducers:{setStakeDialogOpen:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{stakeDialog:t.payload})},setUnstakeDialogOpen:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{unstakeDialog:t.payload})},setStorageManagerDialogOpen:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{storageManager:t.payload})}}}),$a=za.actions,Ha=$a.setStakeDialogOpen,Ja=$a.setUnstakeDialogOpen,Ka=$a.setStorageManagerDialogOpen,Va=za.reducer;function Ga(){var e=Object(s.c)((function(e){return e.dialogs.storageManager.open})),t=Object(s.c)((function(e){return e.account.account})),a=Object(s.c)((function(e){return e.appconfig.appConfig})),n=Object(s.b)(),o=Object(r.useCallback)((function(){n(Ka({open:!1}))}),[n]),c=Object(r.useCallback)((function(e){!function(e,t){var a=ft(e);null===a||void 0===a||a.withdrawStorage(t)}("near",e.amount)}),[]);return t?Object(v.jsx)(Ea,{open:e,appConfig:a,account:t,onRequestClose:o,onSubmit:c}):null}function Ya(e){var t=e.account,a=e.appConfig,n=e.onLoginClick,o=e.onLogoutClick,c=e.onStorageManagerClick,s=Object(r.useState)(null),u=Object(K.a)(s,2),d=u[0],b=u[1],f=Object(l.f)();function p(){b(null)}return Object(v.jsx)("header",{className:ga.a.root,children:Object(v.jsxs)("div",{className:ga.a.menu,children:[Object(v.jsxs)("div",{className:ga.a.topBar,children:[Object(v.jsx)("div",{children:Object(v.jsx)(i.b,{to:vs.root(),className:ga.a.logoWrapper,children:Object(v.jsx)("div",{className:ga.a.logo})})}),Object(v.jsxs)("div",{children:[Object(v.jsx)(ka,{}),Object(v.jsx)(Ga,{})]})]}),Object(v.jsxs)("div",{className:ga.a.bottomBar,children:[Object(v.jsx)("ul",{className:ga.a.menuItems,children:hs.map((function(e){return e.inNavigation?Object(v.jsx)("li",{className:ga.a.menuItem,children:Object(v.jsx)(i.c,{className:ga.a.menuLink,activeClassName:ga.a["menuLink--active"],exact:!0,to:e.navPath,children:e.label})},e.key):null}))}),Object(v.jsxs)("div",{className:ga.a.rightMenu,children:[Object(v.jsx)("ul",{className:ga.a.accountLinks,children:t&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("li",{className:ga.a.menuItem,children:Object(v.jsx)(i.b,{className:ga.a.link,to:vs.account(t.providerId,t.accountId),children:t.accountId})}),Object(v.jsxs)("li",{className:ga.a.menuItem,children:[z(t.balance,a.stakeTokenDecimals)," ",a.stakeTokenSymbol]})]})}),Object(v.jsxs)("div",{className:ga.a.moreMenu,children:[!t&&Object(v.jsx)(te,{onClick:n,children:W("menu.label.login")}),t&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Z.a,{onClick:function(e){b(e.currentTarget)},className:ga.a.iconButton,children:Object(v.jsx)(X.a,{})}),Object(v.jsxs)(V.a,{anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:p,children:[Object(v.jsx)(G.a,{className:ga.a.mobileOnly,onClick:function(){t&&(p(),f.push(vs.account(t.providerId,t.accountId)))},children:t.accountId}),Object(v.jsxs)(G.a,{className:ga.a.mobileOnly,disabled:!0,children:[z(t.balance,a.stakeTokenDecimals)," ",a.stakeTokenSymbol]}),Object(v.jsx)(G.a,{onClick:function(){p(),c()},children:W("menu.label.storageManager")}),Object(v.jsx)(G.a,{onClick:function(){p(),o()},children:W("menu.label.logout")})]})]})]})]})]})]})})}function Xa(e){var t,a=$t(e.custom_fee);return a&&(t="Fixed"in a?{fee:a.Fixed,type:"fixed"}:{multiplier:a.Multiplier,type:"multiplier"}),{active:e.active,codeBaseUrl:e.code_base_url,accountId:e.account_id,customFee:t,interfaceName:e.interface_name}}function Za(e){return Qa.apply(this,arguments)}function Qa(){return(Qa=Object(re.a)(ne.a.mark((function e(t){var a,n,r,o,c,s=arguments;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"near",e.prev=1,n=Pt(a,t),e.next=5,ua.query({query:Object(ve.a)(Ba||(Ba=Object(je.a)(["\n                    query AccountInfo($accountId: String!) {\n                        accountInfo: getAccountInfo(accountId: $accountId) {\n                            active_staking\n                            total_staked\n                            total_claimed\n                            total_amount_slashed\n                            times_slashed\n                            total_disputes\n                            has_requests\n                            has_stakes\n                            whitelist_item {\n                                active\n                                code_base_url\n                                custom_fee\n                                interface_name\n                            }\n                        }\n                    }\n                "]))),variables:{accountId:t}});case 5:return r=e.sent,o=r.data.accountInfo,e.next=9,n;case 9:return c=e.sent,e.abrupt("return",{activeStaking:o.active_staking,totalStaked:o.total_staked,totalClaimed:o.total_claimed,totalDisputes:o.total_disputes,storageAvailable:c.available,storageTotal:c.total,storageUsed:c.used,whitelistItem:o.whitelist_item?Xa(o.whitelist_item):void 0,hasRequests:o.has_requests,hasStakes:o.has_stakes,timesSlashed:o.times_slashed,totalSlashed:o.total_amount_slashed});case 13:return e.prev=13,e.t0=e.catch(1),console.error("[getAccountInfo]",e.t0),e.abrupt("return",{activeStaking:"0",totalStaked:"0",totalClaimed:"0",totalDisputes:"0",storageAvailable:"0",storageTotal:"0",storageUsed:"0",hasStakes:!1,hasRequests:!1,timesSlashed:"0",totalSlashed:"0"});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}var en,tn,an,nn,rn,on,cn,sn,ln=a(495),un=a(517),dn=a(496),bn=a(518);function fn(e){var t=new Date,a=new Date,n=nn.month;switch(e){case an.OneDay:a=Object(ln.a)(t,1),n=nn.hour;break;case an.OneWeek:a=Object(un.a)(t,1),n=nn.day;break;case an.ThreeWeeks:a=Object(un.a)(t,3),n=nn.day;break;case an.OneMonth:a=Object(dn.a)(t,1),n=nn.day;break;case an.OneYear:a=Object(bn.a)(t,1),n=nn.month;break;case an.All:a=new Date(0),n=nn.month}return{chosenPeriodDate:a,metric:n}}function pn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=Object(re.a)(ne.a.mark((function e(t,a){var n,r,o,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=fn(a),r=n.chosenPeriodDate,o=n.metric,e.next=4,ua.query({query:Object(ve.a)(en||(en=Object(je.a)(["\n                query GetAccountAnalytics($accountId: String!, $beginTimestamp: String!, $metric: DateMetric) {\n                    points: getAccountAnalytics(accountId: $accountId, beginTimestamp: $beginTimestamp, dateMetric: $metric) {\n                        key\n                        data\n                    }\n                }\n            "]))),variables:{accountId:t,beginTimestamp:r.getTime().toString(),metric:o}});case 4:return c=e.sent,e.abrupt("return",c.data.points);case 8:return e.prev=8,e.t0=e.catch(0),console.error("[getAccountAnalytics]",e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function jn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(re.a)(ne.a.mark((function e(t,a){var n,r,o,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=fn(a),r=n.chosenPeriodDate,o=n.metric,e.next=4,ua.query({query:Object(ve.a)(tn||(tn=Object(je.a)(["\n                query GetRequestorInvalidAnalytics($accountId: String!, $beginTimestamp: String!, $metric: DateMetric) {\n                    points: getInvalidRequestsAnalytics(accountId: $accountId, beginTimestamp: $beginTimestamp, dateMetric: $metric) {\n                        key\n                        data\n                    }\n                }\n            "]))),variables:{accountId:t,beginTimestamp:r.getTime().toString(),metric:o}});case 4:return c=e.sent,e.abrupt("return",c.data.points);case 8:return e.prev=8,e.t0=e.catch(0),console.error("[getRequestorInvalidRequestsAnalytics]",e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Map;return e.forEach((function(e){var a="";a=e.outcome.type===Ne.Invalid?"Invalid":"Answer(".concat(e.outcome.answer,")");var r="".concat(a,"_").concat(e.dataRequestId),o=t.get(r);if(o){var c=new L.a(o.stake);c=c.add(e.stake),t.set(r,Object(n.a)(Object(n.a)({},o),{},{stake:c.toString()}))}else t.set(r,e)})),Array.from(t.values())}function kn(e,t){return On.apply(this,arguments)}function On(){return(On=Object(re.a)(ne.a.mark((function e(t,a){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ua.query({query:Object(ve.a)(rn||(rn=Object(je.a)(["\n                    query GetUserStakesRequestAndAccount($requestId: String!, $accountId: String!) {\n                        stakes: getUserStakesByRequestId(id: $requestId, accountId: $accountId) {\n                            data_request_id\n                            account_id\n                            id\n                            outcome\n                            round\n                            total_stake\n                            data_request {\n                                config {\n                                    stake_token\n                                }\n                            }\n                        }\n                    }\n                "]))),variables:{requestId:t,accountId:a}});case 3:return n=e.sent,r=Xt(n.data.stakes),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.error("[getUserStakesByRequestIdAndAccountId]",e.t0),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function gn(e,t){return xn.apply(this,arguments)}function xn(){return(xn=Object(re.a)(ne.a.mark((function e(t,a){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=3;break}return e.abrupt("return",kn(t,a));case 3:return e.next=5,ua.query({query:Object(ve.a)(on||(on=Object(je.a)(["\n                    query GetUserStakes($requestId: String!) {\n                        stakes: getUserStakesByRequestId(id: $requestId) {\n                            data_request_id\n                            account_id\n                            id\n                            outcome\n                            round\n                            total_stake\n                            data_request {\n                                config {\n                                    stake_token\n                                }\n                            }\n                        }\n                    }\n                "]))),variables:{requestId:t}});case 5:return n=e.sent,r=Xt(n.data.stakes),e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),console.error("[getUserStakesByRequestId]",e.t0),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function _n(e,t){return yn.apply(this,arguments)}function yn(){return(yn=Object(re.a)(ne.a.mark((function e(t,a){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ua.query({query:Object(ve.a)(cn||(cn=Object(je.a)(["\n                    query GetUserStakesAccount($accountId: String!, $limit: Int, $offset: Int) {\n                        stakes: getUserStakes(accountId: $accountId, limit: $limit, offset: $offset) {\n                            items {\n                                data_request_id\n                                account_id\n                                id\n                                outcome\n                                round\n                                total_stake\n                                data_request {\n                                    finalized_outcome\n                                    config {\n                                        stake_token\n                                    }\n                                }\n                            }\n                            total\n                        }\n                    }\n                "]))),variables:{accountId:t,limit:a.limit,offset:a.offset}});case 3:return n=e.sent,e.next=6,Xt(n.data.stakes.items);case 6:return r=e.sent,e.abrupt("return",{items:r[t],total:n.data.stakes.total});case 10:return e.prev=10,e.t0=e.catch(0),console.error("[getUserStakesByAccountId]",e.t0),e.abrupt("return",{items:[],total:0});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function wn(e){return In.apply(this,arguments)}function In(){return(In=Object(re.a)(ne.a.mark((function e(t){var a,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ua.query({query:Object(ve.a)(sn||(sn=Object(je.a)(["\n                    query GetUnclaimedStakesAccount($accountId: String!) {\n                        stakes: getUnclaimedStakes(accountId: $accountId) {\n                            data_request_id\n                            account_id\n                            id\n                            outcome\n                            round\n                            total_stake\n                            data_request {\n                                finalized_outcome\n                                config {\n                                    stake_token\n                                }\n                            }\n                        }\n                    }\n                "]))),variables:{accountId:t}});case 3:return a=e.sent,e.next=6,Xt(a.data.stakes);case 6:return n=e.sent,e.abrupt("return",hn(n[t]));case 10:return e.prev=10,e.t0=e.catch(0),console.error("[getUnclaimedStakesByAccountId]",e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(e){e.OneDay="1d",e.OneWeek="1w",e.OneMonth="1m",e.ThreeWeeks="3w",e.OneYear="1y",e.All="all"}(an||(an={})),function(e){e.minute="minute",e.hour="hour",e.day="day",e.week="week",e.month="month",e.year="year"}(nn||(nn={}));var Sn={loading:!1,accountDetail:{account:void 0,info:{activeStaking:"0",totalStaked:"0",totalClaimed:"0",totalDisputes:"0",storageAvailable:"0",storageTotal:"0",storageUsed:"0",timesSlashed:"0",totalSlashed:"0",hasRequests:!1,hasStakes:!1},payoutAnalytics:{loading:!1,data:[]},invalidRequestsAnalytics:{loading:!1,data:[]},accountStakes:[],accountStakesTotal:0,accountRequests:[],accountRequestsTotal:0,unclaimedStakes:[]}},Cn=Object(La.a)({initialState:Sn,name:"account",reducers:{setAccountErrors:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{error:t.payload})},setAccountLoading:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{loading:t.payload})},setAccount:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{account:t.payload})},setAccountDetail:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{accountDetail:Object(n.a)(Object(n.a)({},e.accountDetail),{},{account:t.payload})})},setAccountStakes:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{accountDetail:Object(n.a)(Object(n.a)({},e.accountDetail),{},{accountStakes:t.payload})})},setAccountStakesTotal:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{accountDetail:Object(n.a)(Object(n.a)({},e.accountDetail),{},{accountStakesTotal:t.payload})})},setAccountInfo:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{accountDetail:Object(n.a)(Object(n.a)({},e.accountDetail),{},{info:t.payload})})},setAccountUnclaimedStakes:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{accountDetail:Object(n.a)(Object(n.a)({},e.accountDetail),{},{unclaimedStakes:t.payload})})},setAccountRequests:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{accountDetail:Object(n.a)(Object(n.a)({},e.accountDetail),{},{accountRequests:t.payload})})},setAccountRequestsTotal:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{accountDetail:Object(n.a)(Object(n.a)({},e.accountDetail),{},{accountRequestsTotal:t.payload})})},setAccountPayoutAnalyticsLoading:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{accountDetail:Object(n.a)(Object(n.a)({},e.accountDetail),{},{payoutAnalytics:Object(n.a)(Object(n.a)({},e.accountDetail.payoutAnalytics),{},{loading:t.payload})})})},setAccountPayoutAnalyticsData:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{accountDetail:Object(n.a)(Object(n.a)({},e.accountDetail),{},{payoutAnalytics:Object(n.a)(Object(n.a)({},e.accountDetail.payoutAnalytics),{},{data:t.payload})})})},setRequestorInvalidAnalyticsLoading:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{accountDetail:Object(n.a)(Object(n.a)({},e.accountDetail),{},{invalidRequestsAnalytics:Object(n.a)(Object(n.a)({},e.accountDetail.invalidRequestsAnalytics),{},{loading:t.payload})})})},setRequestorInvalidAnalyticsData:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{accountDetail:Object(n.a)(Object(n.a)({},e.accountDetail),{},{invalidRequestsAnalytics:Object(n.a)(Object(n.a)({},e.accountDetail.invalidRequestsAnalytics),{},{data:t.payload})})})}}}),qn=Cn.actions,Rn=qn.setAccount,Dn=(qn.setAccountErrors,qn.setAccountLoading),An=qn.setAccountDetail,Tn=qn.setAccountStakes,Nn=qn.setAccountStakesTotal,Pn=qn.setAccountInfo,Mn=qn.setAccountUnclaimedStakes,Wn=qn.setAccountRequests,Fn=qn.setAccountRequestsTotal,Un=qn.setAccountPayoutAnalyticsData,En=qn.setAccountPayoutAnalyticsLoading,Bn=qn.setRequestorInvalidAnalyticsData,Ln=qn.setRequestorInvalidAnalyticsLoading,zn=Cn.reducer;function $n(e,t){return function(){var a=Object(re.a)(ne.a.mark((function a(n){var r,o;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=ye*e,a.next=3,_n(t,{limit:ye,offset:r});case 3:o=a.sent,n(Nn(o.total)),n(Tn(o.items));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}function Hn(e,t){return function(){var a=Object(re.a)(ne.a.mark((function a(n){var r,o;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=ye*e,a.next=3,da({limit:ye,offset:r},{requestor:t,onlyArbitratorRequests:!1});case 3:o=a.sent,n(Wn(o.items)),n(Fn(o.total));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}var Jn=Object(La.a)({initialState:{loading:!1,appConfig:{nativeTokenDecimals:18,nativeTokenSymbol:"?",stakeTokenDecimals:18,stakeTokenSymbol:"?",bondTokenDecimals:18,bondTokenSymbol:"?",importantMessages:[]}},name:"appconfig",reducers:{setAppConfigLoading:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{loading:t.payload})},setAppConfig:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{appConfig:t.payload})}}}),Kn=Jn.actions,Vn=Kn.setAppConfig,Gn=Kn.setAppConfigLoading,Yn=Jn.reducer;function Xn(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.account.account})),a=Object(s.c)((function(e){return e.appconfig.appConfig})),n=Object(r.useCallback)((function(){e(function(){var e=Object(re.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Dn(!0)),e.next=3,mt("near");case 3:t(Dn(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),o=Object(r.useCallback)((function(){e(function(){var e=Object(re.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt("near");case 2:t(Rn(void 0));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),c=Object(r.useCallback)((function(){e(Ka({open:!0}))}),[e]);return Object(r.useEffect)((function(){e(function(){var e=Object(re.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t();case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return");case 5:t(Rn(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(re.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Gn(!0)),e.next=3,wt("near");case 3:a=e.sent,t(Vn(a)),t(Gn(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(v.jsx)(Ya,{onLoginClick:n,account:t,appConfig:a,onLogoutClick:o,onStorageManagerClick:c})}var Zn=a(174),Qn=a.n(Zn);function er(){return Object(v.jsx)("footer",{className:Qn.a.footer,children:Object(v.jsx)("div",{className:Qn.a.footerWrapper,children:Object(v.jsx)("div",{className:Qn.a.logo})})})}var tr=a(510),ar=a(207),nr=a.n(ar);function rr(){var e=Object(s.c)((function(e){return e.appconfig.appConfig.importantMessages}));return Object(v.jsx)("div",{className:nr.a.root,children:e.map((function(e){return Object(v.jsx)(tr.a,{className:nr.a.alert,severity:e.type,children:Object(v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.message}})},e.key)}))})}var or=a(208),cr=a.n(or);function sr(e){e.className;var t=e.children;e.hasNavigation;return Object(v.jsxs)("div",{className:cr.a.page,children:[Object(v.jsx)(Xn,{}),Object(v.jsxs)("main",{className:cr.a.body,children:[Object(v.jsx)(rr,{}),t]}),Object(v.jsx)(er,{})]})}var ir=a(498),lr=a(502),ur=a(501),dr=a(497),br=a(499),fr=a(500),pr=a(435),mr=a(285),jr=a.n(mr),vr=a(286),hr=a.n(vr),kr=a(287),Or=a.n(kr),gr=a(284),xr=a.n(gr),_r=a(283),yr=a.n(_r);function wr(e){var t=e.total,a=e.page,n=e.onChangePage,r=(e.rowsPerPage,e.className);return Object(v.jsxs)("div",{className:f()(yr.a.pagination,r),children:[Object(v.jsx)(Z.a,{onClick:function(){n(0)},disabled:0===a,"aria-label":"first page",children:Object(v.jsx)(xr.a,{})}),Object(v.jsx)(Z.a,{onClick:function(){n(a-1)},disabled:0===a,"aria-label":"previous page",children:Object(v.jsx)(jr.a,{})}),Object(v.jsx)("span",{children:W("pagination.pageIndication",{currentPage:(a+1).toString(),totalPages:(t+1).toString()})}),Object(v.jsx)(Z.a,{onClick:function(){n(a+1)},disabled:a===t||t<=0,"aria-label":"next page",children:Object(v.jsx)(hr.a,{})}),Object(v.jsx)(Z.a,{onClick:function(){n(t)},disabled:a===t||t<=0,"aria-label":"last page",children:Object(v.jsx)(Or.a,{})})]})}var Ir=a(105),Sr=a.n(Ir);function Cr(e){var t=e.onRequestPageChange,a=e.outcomeStakes,n=void 0===a?[]:a,r=e.page,o=e.totalItems,c=e.showPagination,s=void 0===c||c;return Object(v.jsxs)("div",{children:[Object(v.jsx)(dr.a,{className:Sr.a.container,component:pr.a,children:Object(v.jsxs)(ir.a,{className:Sr.a.table,children:[Object(v.jsx)(br.a,{className:Sr.a.tableHead,children:Object(v.jsxs)(fr.a,{children:[Object(v.jsx)(ur.a,{children:W("outcomeStakesOverview.table.label.id")}),Object(v.jsx)(ur.a,{children:W("outcomeStakesOverview.table.label.roud")}),Object(v.jsx)(ur.a,{children:W("outcomeStakesOverview.table.label.outcome")}),Object(v.jsx)(ur.a,{children:W("outcomeStakesOverview.table.label.finalizedOutcome")}),Object(v.jsx)(ur.a,{children:W("outcomeStakesOverview.table.label.stake")})]})}),Object(v.jsx)(lr.a,{children:n.map((function(e){return Object(v.jsxs)(fr.a,{children:[Object(v.jsx)(ur.a,{className:Sr.a.linkCell,children:Object(v.jsxs)(i.b,{to:vs.dataRequestDetail("near",e.dataRequestId),children:["#",e.dataRequestId]})}),Object(v.jsx)(ur.a,{children:e.round}),Object(v.jsx)(ur.a,{children:Fe(e.outcome)}),Object(v.jsx)(ur.a,{children:e.finalizedOutcome?Fe(e.finalizedOutcome):null}),Object(v.jsxs)(ur.a,{children:[z(e.stake,e.stakeToken.decimals)," ",e.stakeToken.symbol]})]},"".concat(e.dataRequestId,"_").concat(e.round,"_").concat(Fe(e.outcome)))}))})]})}),0===n.length&&Object(v.jsx)("div",{className:Sr.a.empty,children:W("global.empty.entries")}),s&&Object(v.jsx)(wr,{className:Sr.a.pagination,total:Math.ceil(o/ye)-1,page:r,rowsPerPage:ye,onChangePage:t})]})}function qr(){var e=Object(s.b)(),t=Object(l.h)(),a=Object(s.c)((function(e){return e.account.accountDetail.accountStakes})),n=Object(s.c)((function(e){return e.account.accountDetail.accountStakesTotal})),o=Object(r.useState)(0),c=Object(K.a)(o,2),i=c[0],u=c[1],d=Object(r.useCallback)((function(a){e($n(a,t.accountId)),u(a)}),[e,t]);return Object(v.jsx)(Cr,{onRequestPageChange:d,outcomeStakes:a,totalItems:n,page:i})}function Rr(){var e=Object(s.b)(),t=Object(l.h)();return Object(r.useEffect)((function(){e($n(0,t.accountId))}),[e,t]),Object(v.jsx)("div",{children:Object(v.jsx)(qr,{})})}var Dr=a(98),Ar=a.n(Dr);function Tr(e){var t=e.dataRequests,a=e.page,n=e.totalItems,r=e.showPagination,o=void 0===r||r,c=e.onRequestPageChange;return Object(v.jsxs)("div",{className:Ar.a.root,children:[Object(v.jsx)(dr.a,{className:Ar.a.container,component:pr.a,children:Object(v.jsxs)(ir.a,{className:Ar.a.table,children:[Object(v.jsx)(br.a,{className:Ar.a.tableHead,children:Object(v.jsxs)(fr.a,{children:[Object(v.jsx)(ur.a,{children:W("dataRequestsOverview.table.label.id")}),Object(v.jsx)(ur.a,{children:W("dataRequestsOverview.table.label.type")}),Object(v.jsx)(ur.a,{children:W("dataRequestsOverview.table.label.status")}),Object(v.jsx)(ur.a,{children:W("dataRequestsOverview.table.label.timestamp")})]})}),Object(v.jsx)(lr.a,{children:t.map((function(e){return Object(v.jsxs)(fr.a,{children:[Object(v.jsx)(ur.a,{className:Ar.a.linkCell,children:Object(v.jsxs)(i.b,{to:vs.dataRequestDetail("near",e.id),children:["#",e.id]})}),Object(v.jsx)(ur.a,{children:(t=e.type,t===Vt.Arbitrator?W("dataRequest.type.arbitrator"):W("dataRequest.type.api"))}),Object(v.jsxs)(ur.a,{children:[e.finalized_outcome&&Object(v.jsx)("span",{children:W("global.status.completed")}),!e.finalized_outcome&&Object(v.jsx)("span",{children:W("global.status.ongoing")})]}),Object(v.jsx)(ur.a,{children:Bt(e.date)})]},e.id);var t}))})]})}),0===t.length&&Object(v.jsx)("div",{className:Ar.a.noRequests,children:W("global.empty.noRequests")}),o&&Object(v.jsx)(wr,{className:Ar.a.pagination,total:Math.ceil(n/ye)-1,page:a,rowsPerPage:ye,onChangePage:c})]})}function Nr(){var e=Object(r.useState)(0),t=Object(K.a)(e,2),a=t[0],n=t[1],o=Object(s.b)(),c=Object(l.h)(),i=Object(s.c)((function(e){return e.account.accountDetail.accountRequests})),u=Object(s.c)((function(e){return e.account.accountDetail.accountRequestsTotal})),d=Object(r.useCallback)((function(e){o(Hn(e,c.accountId)),n(e)}),[o,c]);return Object(v.jsx)(Tr,{dataRequests:i,onRequestPageChange:d,page:a,totalItems:u,showPagination:!0})}function Pr(){var e=Object(s.b)(),t=Object(l.h)();return Object(r.useEffect)((function(){e(Hn(0,t.accountId))}),[e,t.accountId]),Object(v.jsx)("div",{children:Object(v.jsx)(Nr,{})})}var Mr=a(175),Wr=a.n(Mr);function Fr(){var e=Object(s.c)((function(e){return e.account.accountDetail.unclaimedStakes}));return Object(v.jsx)(Cr,{totalItems:0,page:0,onRequestPageChange:function(){},outcomeStakes:e,showPagination:!1})}function Ur(){var e=Object(s.b)(),t=Object(l.h)();return Object(r.useEffect)((function(){var a;e((a=t.accountId,function(){var e=Object(re.a)(ne.a.mark((function e(t){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(a);case 2:n=e.sent,t(Mn(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e,t]),Object(v.jsx)("div",{children:Object(v.jsx)(Fr,{})})}var Er=a(176),Br=a.n(Er),Lr=a(288),zr=a.n(Lr);function $r(e){var t=e.children,a=e.href,n=Object(r.useCallback)((function(e){e.preventDefault(),window.open(a,"_blank")}),[a]);return Object(v.jsx)("a",{href:a,className:zr.a.link,onClick:n,children:t})}function Hr(e){var t=e.whitelist,a=e.appConfig,n=[{label:W("whitelistInfoCard.label.interfaceName"),value:Object(v.jsx)("span",{children:t.interfaceName})},{label:W("whitelistInfoCard.label.codeBaseUrl"),value:Object(v.jsx)($r,{href:t.codeBaseUrl,children:t.codeBaseUrl})},{label:W("whitelistInfoCard.label.active"),value:Object(v.jsx)("span",{children:F(t.active)})}];return t.customFee&&("fixed"===t.customFee.type?n.push({label:W("whitelistInfoCard.label.fixedFee"),value:Object(v.jsxs)("span",{children:[z(t.customFee.fee,a.stakeTokenDecimals)," ",a.stakeTokenSymbol]})}):"multiplier"===t.customFee.type&&n.push({label:W("whitelistInfoCard.label.stakeMultiplier"),value:Object(v.jsxs)("span",{children:[t.customFee.multiplier,"x"]})})),Object(v.jsx)(h,{className:Br.a.card,children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)("div",{className:Br.a.titleWrapper,children:Object(v.jsx)("h2",{className:Br.a.title,children:W("whitelistInfoCard.title")})}),Object(v.jsx)(P,{rows:n})]})})}function Jr(){var e=Object(s.c)((function(e){return e.account.accountDetail.info.whitelistItem})),t=Object(s.c)((function(e){return e.appconfig.appConfig}));return e?Object(v.jsx)(Hr,{whitelist:e,appConfig:t}):null}var Kr=a(523),Vr=a(503),Gr=a(209),Yr=a.n(Gr);function Xr(e){var t=e.items,a=e.value,n=e.onChange,r=e.exclusive,o=e.selectedClassName,c=void 0===o?"":o,s=e.buttonClassName,i=void 0===s?"":s,l=e.className,u=void 0===l?"":l;return Object(v.jsx)(Kr.a,{className:u,exclusive:r,value:a,onChange:function(e,t){return n(t)},children:t.map((function(e){return Object(v.jsx)(Vr.a,{className:f()(Yr.a.button,i),classes:{selected:c||Yr.a.selected},value:e.id,children:e.text},e.id)}))})}var Zr=a(120);function Qr(e){return e.map((function(e){return{label:e.label,data:e.points,borderColor:e.lineColor,backgroundColor:e.lineColor,pointBorderWidth:"0",fill:e.fill}}))}function eo(e){var t=e.items,a=e.labels,n=e.period,o=e.onPeriodChange,c=void 0===o?function(){}:o,s=Object(r.useRef)(null),i=Object(r.useRef)(null);Object(r.useEffect)((function(){s.current&&(i.current?function(e,t,a){e.data.labels=t,e.data.datasets=Qr(a),Zr.a.defaults.plugins.tooltip.callbacks.label=function(e){var t,n,r,o=null!==(t=e.dataset.label)&&void 0!==t?t:"",c=null!==(n=null===(r=a[e.datasetIndex])||void 0===r?void 0:r.afterText)&&void 0!==n?n:"";return"".concat(o,": ").concat(e.parsed.y," ").concat(c)},e.update()}(i.current,a,t):i.current=function(e,t,a){var n=e.getContext("2d");if(!n)return null;Zr.a.defaults.plugins.tooltip.mode="index",Zr.a.defaults.plugins.tooltip.intersect=!1,Zr.a.defaults.plugins.tooltip.callbacks.label=function(e){var t,n,r,o=null!==(t=e.dataset.label)&&void 0!==t?t:"",c=null!==(n=null===(r=a[e.datasetIndex])||void 0===r?void 0:r.afterText)&&void 0!==n?n:"";return"".concat(o," ").concat(e.parsed.y," ").concat(c)};var r={type:"line",options:{responsive:!0,animation:{duration:0}},data:{labels:t,datasets:Qr(a)}};return new Zr.a(n,r)}(s.current,a,t))}),[t,a,s,i]);var l=Object(r.useCallback)((function(e){e&&c(e)}),[c]);return Object(v.jsxs)("div",{children:[Object(v.jsx)("canvas",{ref:s}),Object(v.jsx)(Xr,{exclusive:!0,value:n,onChange:l,items:[{id:an.OneDay,text:W("lineChart.labels.1d")},{id:an.OneWeek,text:W("lineChart.labels.1w")},{id:an.ThreeWeeks,text:W("lineChart.labels.3w")},{id:an.OneMonth,text:W("lineChart.labels.1m")},{id:an.OneYear,text:W("lineChart.labels.1y")},{id:an.All,text:W("lineChart.labels.all")}]})]})}function to(){var e=Object(s.b)(),t=Object(l.h)(),a=Object(r.useState)(an.OneMonth),n=Object(K.a)(a,2),o=n[0],c=n[1],i=Object(s.c)((function(e){return e.account.accountDetail.payoutAnalytics.data})),u=Object(s.c)((function(e){return e.appconfig.appConfig}));Object(r.useEffect)((function(){e(function(e,t){return function(){var a=Object(re.a)(ne.a.mark((function a(n){var r;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(En(!0)),a.next=3,pn(e,t);case 3:r=a.sent,n(Un(r)),n(En(!1));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t.accountId,o))}),[t.accountId,o,e]);var d=Object(r.useCallback)((function(e){c(e)}),[]);return Object(v.jsx)(eo,{period:o,labels:i.map((function(e){return e.key})),onPeriodChange:d,items:[{label:W("accountAnalytics.labels.feePayout"),points:i.map((function(e){return Number(z(e.data[1],u.bondTokenDecimals,4))})),afterText:u.bondTokenSymbol,lineColor:"#252525",fill:!1},{label:W("accountAnalytics.labels.stakePayout"),points:i.map((function(e){return Number(z(e.data[0],u.stakeTokenDecimals,4))})),afterText:u.stakeTokenSymbol,lineColor:"#9ec8f1",fill:!0}]})}function ao(){return Object(v.jsx)("div",{children:Object(v.jsx)(to,{})})}function no(){var e=Object(s.b)(),t=Object(l.h)(),a=Object(r.useState)(an.OneMonth),n=Object(K.a)(a,2),o=n[0],c=n[1],i=Object(s.c)((function(e){return e.account.accountDetail.invalidRequestsAnalytics.data}));Object(r.useEffect)((function(){e(function(e,t){return function(){var a=Object(re.a)(ne.a.mark((function a(n){var r;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Ln(!0)),a.next=3,jn(e,t);case 3:r=a.sent,n(Bn(r)),n(Ln(!1));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t.accountId,o))}),[t.accountId,o,e]);var u=Object(r.useCallback)((function(e){c(e)}),[]);return Object(v.jsx)(eo,{period:o,labels:i.map((function(e){return e.key})),onPeriodChange:u,items:[{label:W("requestorAnalytics.labels.invalidRequests"),points:i.map((function(e){return Number(e.data[0])})),lineColor:"#9ec8f1",fill:!0}]})}function ro(){return Object(v.jsx)("div",{children:Object(v.jsx)(no,{})})}var oo,co=a(177),so=a.n(co);function io(e){var t,a=e.oracleConfig,n=zt(Number(a.minInitialChallengeWindowDuration),"ns"),r=zt(Number(a.defaultChallengeWindowDuration),"ns");return Object(v.jsx)(h,{className:so.a.card,children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)("div",{className:so.a.titleWrapper,children:Object(v.jsx)("h2",{className:so.a.title,children:W("oracleConfigInfoCard.title")})}),Object(v.jsx)(P,{rows:[{label:W("oracleConfigInfoCard.label.createdAt"),value:Object(v.jsx)("span",{children:Bt(a.date)})},{label:W("oracleConfigInfoCard.label.gov"),value:Object(v.jsx)("span",{children:a.gov})},{label:W("oracleConfigInfoCard.label.bondToken"),value:Object(v.jsx)("span",{children:a.bondToken.contractId})},{label:W("oracleConfigInfoCard.label.stakeToken"),value:Object(v.jsx)("span",{children:a.stakeToken.contractId})},{label:W("oracleConfigInfoCard.label.finalArbitrator"),value:Object(v.jsx)("span",{children:a.finalArbitrator})},{label:W("oracleConfigInfoCard.label.finalArbitratorInvokeAmount"),value:Object(v.jsxs)("span",{children:[z(a.finalArbitratorInvokeAmount,a.stakeToken.decimals,2)," ",a.stakeToken.symbol]})},{label:W("oracleConfigInfoCard.label.resolutionFeePercentage"),value:Object(v.jsxs)("span",{children:[a.resolutionFeePercentage/1e3,"%"]})},{label:W("oracleConfigInfoCard.label.fluxMarketCap"),value:Object(v.jsxs)("span",{children:["$",(t=z(a.fluxMarketCap,2,2),t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))]})},{label:W("oracleConfigInfoCard.label.totalValueStaked"),value:Object(v.jsx)("span",{children:a.totalValueStaked})},{label:W("oracleConfigInfoCard.label.maxOutcomes"),value:Object(v.jsx)("span",{children:a.maxOutcomes})},{label:W("oracleConfigInfoCard.label.minInitialChallengeWindowDuration"),value:Object(v.jsxs)("span",{children:[W("global.date.smallFormat",{days:n.days.toString(),hours:n.hours.toString(),minutes:n.minutes.toString(),seconds:n.seconds.toString()})," / ",a.minInitialChallengeWindowDuration," ns"]})},{label:W("oracleConfigInfoCard.label.defaultChallengeWindowDuration"),value:Object(v.jsxs)("span",{children:[W("global.date.smallFormat",{days:r.days.toString(),hours:r.hours.toString(),minutes:r.minutes.toString(),seconds:r.seconds.toString()})," / ",a.defaultChallengeWindowDuration," ns"]})},{label:W("oracleConfigInfoCard.label.validityBond"),value:Object(v.jsxs)("span",{children:[z(a.validityBond,a.bondToken.decimals,2)," ",a.bondToken.symbol]})}]})]})})}function lo(){var e=Object(s.c)((function(e){return e.oracleConfig.detail}));return e?Object(v.jsx)(io,{oracleConfig:e}):null}function uo(e){return bo.apply(this,arguments)}function bo(){return(bo=Object(re.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ua.query({query:Object(ve.a)(oo||(oo=Object(je.a)(["\n                query GetOracleConfig($id: String!) {\n                    config: getOracleConfig(id: $id) {\n                        block_height\n                        payment_token\n                        date\n                        default_challenge_window_duration\n                        final_arbitrator\n                        final_arbitrator_invoke_amount\n                        gov\n                        id\n                        max_outcomes\n                        min_initial_challenge_window_duration\n                        resolution_fee_percentage\n                        stake_token\n                        validity_bond\n                        fee {\n                            flux_market_cap\n                            resolution_fee_percentage\n                            total_value_staked\n                        }\n                    }\n                }\n            "]))),variables:{id:t}});case 3:return a=e.sent,e.abrupt("return",Jt(a.data.config));case 7:return e.prev=7,e.t0=e.catch(0),console.error("[getOracleConfig]",e.t0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var fo=Object(La.a)({initialState:{loading:!1},name:"oracleConfig",reducers:{setOracleConfigDetail:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{detail:t.payload})},setOracleConfigLoading:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{loading:t.payload})}}}),po=fo.actions,mo=po.setOracleConfigDetail,jo=po.setOracleConfigLoading,vo=fo.reducer;var ho=a(114),ko=a.n(ho),Oo=a(78),go=a.n(Oo);function xo(e){return Object(v.jsx)("div",{children:e.children})}function _o(e){var t=e.claim,a=e.accountStakes,n=e.finalizedRound,r=e.finalizedOutcome,o=e.stakeToken;return Object(v.jsx)(h,{className:go.a.card,children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)("div",{className:go.a.titleWrapper,children:Object(v.jsx)("h2",{className:go.a.title,children:W("accountStakesInfoCard.title")})}),t&&Object(v.jsx)("div",{className:go.a.claim,children:W("dataRequestDetail.label.claimed",{payout:z(t.payout,o.decimals),userCorrectStake:z(t.userCorrectStake,o.decimals),tokenSymbol:o.symbol})}),r&&!t&&Object(v.jsx)("div",{className:go.a.claim,children:W("dataRequestDetail.description.unclaimed")}),a.length>0&&Object(v.jsx)(dr.a,{className:go.a.container,component:xo,children:Object(v.jsxs)(ir.a,{className:go.a.table,children:[Object(v.jsx)(br.a,{className:go.a.tableHead,children:Object(v.jsxs)(fr.a,{children:[Object(v.jsx)(ur.a,{children:W("outcomeStakeInfo.table.label.round")}),Object(v.jsx)(ur.a,{children:W("outcomeStakeInfo.table.label.outcome")}),Object(v.jsx)(ur.a,{children:W("outcomeStakeInfo.table.label.stake")}),r&&Object(v.jsx)(ur.a,{children:W("outcomeStakeInfo.table.label.correcltyStaked")})]})}),Object(v.jsx)(lr.a,{children:a.map((function(e,t){return new L.a(e.totalStake).lte(0)?null:Object(v.jsxs)(fr.a,{children:[Object(v.jsx)(ur.a,{children:e.round}),Object(v.jsxs)(ur.a,{children:[e.outcome.type===Ne.Answer&&Object(v.jsxs)("span",{children:['"',e.outcome.answer,'"']}),e.outcome.type===Ne.Invalid&&Object(v.jsx)("span",{children:W("outcomeStakeInfo.label.invalid")})]}),Object(v.jsxs)(ur.a,{children:[z(e.totalStake,o.decimals)," ",o.symbol]}),r&&"undefined"!==typeof n&&Object(v.jsxs)(ur.a,{children:[e.bonded&&Ue(r,e.outcome)&&W("outcomeStakeInfo.label.correct"),e.bonded&&!Ue(r,e.outcome)&&W("outcomeStakeInfo.label.incorrect"),!e.bonded&&W("outcomeStakeInfo.label.unbonded")]})]},t)}))})]})}),0===a.length&&Object(v.jsx)("div",{className:go.a.noStakes,children:W("accountStakesInfoCard.noStakes")})]})})}function yo(){var e,t=Object(s.c)((function(e){return e.dataRequest.dataRequestDetail})),a=Object(s.c)((function(e){var t;return null===(t=e.dataRequest.dataRequestDetail)||void 0===t?void 0:t.finalized_outcome})),n=null!==(e=Object(s.c)((function(e){var t;return null===(t=e.dataRequest.dataRequestDetail)||void 0===t?void 0:t.resolutionWindows})))&&void 0!==e?e:[],r=void 0;return a&&(r=n[n.length-2].round),t?Object(v.jsx)(_o,{accountStakes:t.loggedInAccountStakes,claim:t.loggedInAccountClaim,finalizedOutcome:a,finalizedRound:r,stakeToken:t.stakeToken}):null}var wo=a(67),Io=a.n(wo);function So(e){var t,a=e.dataRequest,n=e.className;return Object(v.jsx)(h,{className:n,children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)("div",{className:Io.a.titleWrapper,children:Object(v.jsx)("h2",{className:Io.a.title,children:W("callDataInfo.title")})}),a.description&&Object(v.jsx)(A,{label:W("callDataInfo.description"),className:Io.a.label,children:a.description}),a.sources.length>0&&Object(v.jsxs)("table",{className:Io.a.table,children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{className:Io.a.tableHeadRow,children:[Object(v.jsx)("th",{children:W("callDataInfo.label.endPoint")}),Object(v.jsx)("th",{children:W("callDataInfo.label.sourcePath")})]})}),Object(v.jsx)("tbody",{children:a.sources.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:Io.a.tableItem,children:Object(v.jsx)("span",{className:Io.a.tableItemInner,children:e.endPoint})}),Object(v.jsx)("td",{className:Io.a.tableItem,children:Object(v.jsx)("pre",{children:e.sourcePath})})]},"".concat(e.endPoint,"_").concat(e.sourcePath))}))})]}),(null===(t=a.outcomes)||void 0===t?void 0:t.length)&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A,{label:W("callDataInfo.outcomes.title")}),Object(v.jsx)("pre",{className:Io.a.possibleOutcomes,children:JSON.stringify(a.outcomes,null,4)})]}),Object(v.jsx)(A,{label:W("callDataInfo.dataType"),className:Io.a.label,children:a.data_type}),"Number"===a.data_type&&Object(v.jsx)(A,{label:W("callDataInfo.numberMultiplier"),className:Io.a.label,children:a.number_multiplier})]})})}function Co(e){var t=e.className,a=Object(s.c)((function(e){return e.dataRequest.dataRequestDetail}));return a?Object(v.jsx)(So,{dataRequest:a,className:t}):null}var qo=a(289);function Ro(e){var t=e.date,a=e.onComplete;return Object(v.jsx)(qo.a,{date:t,onComplete:a})}var Do=a(106),Ao=a.n(Do);function To(e){var t,a=e.dataRequest,n=e.onStakeClick,o=e.onClaimClick,c=e.onUnstakeClick,s=e.onFinalizeClick,i=e.account,l=e.accountStakes,u=new Date,d=Object(r.useState)(a.settlementTime.getTime()<=u.getTime()),b=Object(K.a)(d,2),f=b[0],p=b[1],m="undefined"!==typeof a.finalized_outcome,j=function(e){if(e.finalized_outcome)return!1;if(e.finalArbitratorTriggered)return!1;var t=e.resolutionWindows[e.resolutionWindows.length-1];if(!t)return!1;var a=(new Date).getTime();return!(t.endTime.getTime()>=a)&&!(!t.filled&&0===t.round)}(a),h=Boolean(null===(t=a.loggedInAccountClaim)||void 0===t?void 0:t.payout),k=a.loggedInAccountStakes.some((function(e){return!e.bonded&&new L.a(e.totalStake).gt(0)})),O=Object(r.useCallback)((function(){p(!0)}),[]);return Object(v.jsxs)("header",{className:Ao.a.header,children:[Object(v.jsx)("h1",{children:W("dataRequestDetail.title",{id:a.id})}),Object(v.jsxs)("div",{className:Ao.a.actions,children:[!f&&Object(v.jsxs)("span",{children:[W("dataRequestDetail.canBeResolvedIn"),Object(v.jsx)(Ro,{date:a.settlementTime,onComplete:O})]}),f&&!a.finalArbitratorTriggered&&i&&!m&&Object(v.jsx)(qa,{className:Ao.a.button,onClick:n,children:W("dataRequestDetail.label.stake")}),f&&i&&k&&Object(v.jsx)(qa,{className:Ao.a.button,onClick:c,children:W("dataRequestDetail.label.unstake")}),f&&i&&j&&Object(v.jsx)(qa,{className:Ao.a.button,onClick:s,children:W("dataRequestDetail.label.finalize")}),f&&i&&!h&&l.length>0&&m&&Object(v.jsx)(qa,{className:Ao.a.button,onClick:o,children:W("dataRequestDetail.label.claim")}),!m&&a.finalArbitratorTriggered&&Object(v.jsx)("span",{children:W("dataRequestDetail.label.finalArbitratorTriggered")})]})]})}var No=Object(La.a)({initialState:{detailLoading:!1,loading:!1,dataRequests:[],totalDataRequests:0,accountStakes:[],dataRequestFilters:{onlyArbitratorRequests:!1}},name:"dataRequests",reducers:{setDataRequestsErrors:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{error:t.payload})},setDataRequestsLoading:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{loading:t.payload})},setDataRequestDetailLoading:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{detailLoading:t.payload})},setDataRequests:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{dataRequests:t.payload})},setDataRequestDetail:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{dataRequestDetail:t.payload})},setTotalDataRequest:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{totalDataRequests:t.payload})},setDataRequestAccountStakes:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{accountStakes:t.payload})},setDataRequestFilters:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{dataRequestFilters:t.payload})}}}),Po=No.actions,Mo=Po.setDataRequests,Wo=Po.setDataRequestsErrors,Fo=Po.setDataRequestsLoading,Uo=Po.setDataRequestDetail,Eo=Po.setDataRequestDetailLoading,Bo=Po.setTotalDataRequest,Lo=Po.setDataRequestAccountStakes,zo=Po.setDataRequestFilters,$o=No.reducer;function Ho(e){return function(){var t=Object(re.a)(ne.a.mark((function t(a,n){var r,o,c;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),a(Fo(!0)),o=ye*e,t.next=5,da({limit:ye,offset:o},r.dataRequest.dataRequestFilters);case 5:c=t.sent,a(Mo(c.items)),a(Bo(c.total)),a(Fo(!1));case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}function Jo(e){return function(){var t=Object(re.a)(ne.a.mark((function t(a){var n,r,o,c,s;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Eo(!0)),t.next=3,kt();case 3:return n=t.sent,r=gn(e,n),t.next=7,fa(e,n);case 7:if(o=t.sent){t.next=11;break}return Wo(["404"]),t.abrupt("return");case 11:return t.next=13,r;case 13:c=t.sent,s=[],n&&c[n]&&(s=hn(c[n])),a(Lo(s)),a(Uo(o)),a(Eo(!1));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ko(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.dataRequest.dataRequestDetail})),a=Object(s.c)((function(e){return e.account.account})),n=Object(s.c)((function(e){return e.dataRequest.accountStakes})),o=Object(r.useCallback)((function(){e(Ha({open:!0,dataRequest:t}))}),[e,t]),c=Object(r.useCallback)((function(){e(Ja({open:!0,dataRequest:t}))}),[e,t]),i=Object(r.useCallback)((function(){t&&e(function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(a){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qt("near",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[e,t]),l=Object(r.useCallback)((function(){t&&a&&e(function(e,t){return function(){var a=Object(re.a)(ne.a.mark((function a(n){return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Dt("near",e,t);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(a.accountId,t))}),[e,t,a]);return t?Object(v.jsx)(To,{dataRequest:t,onStakeClick:o,onFinalizeClick:i,onClaimClick:l,onUnstakeClick:c,account:a,accountStakes:n}):null}var Vo=a(132),Go=a.n(Vo);function Yo(e){var t=e.dataRequest,a=e.className;return Object(v.jsx)(h,{className:a,children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)("div",{className:Go.a.titleWrapper,children:Object(v.jsx)("h2",{className:Go.a.title,children:W("requestInfo.title")})}),Object(v.jsx)(P,{rows:[{label:W("requestInfo.label.requestor"),value:Object(v.jsx)(i.b,{className:Go.a.link,to:vs.account("near",t.requestor),children:t.requestor})},{label:W("requestInfo.label.dateCreated"),value:Object(v.jsx)("span",{children:Bt(t.date)})},{label:W("requestInfo.label.config"),value:Object(v.jsx)(i.b,{className:Go.a.link,to:vs.config("near",t.config.id),children:t.config.id})},{label:W("requestInfo.label.finalArbitratorTriggered"),value:Object(v.jsx)("span",{children:F(t.finalArbitratorTriggered)})},{label:W("requestInfo.label.feeReward"),value:Object(v.jsxs)("span",{children:[z(t.fee,t.stakeToken.decimals)," ",t.stakeToken.symbol]})},{label:W("requestInfo.label.totalStaked"),value:Object(v.jsx)("span",{children:"".concat(z(t.totalStaked,t.stakeToken.decimals)," ").concat(t.stakeToken.symbol)})},{label:W("requestInfo.label.totalCorrectStaked"),value:Object(v.jsx)("span",{children:t.totalCorrectStaked?"".concat(z(t.totalCorrectStaked,t.stakeToken.decimals)," ").concat(t.stakeToken.symbol):W("global.na")})},{label:W("requestInfo.label.totalIncorrectStaked"),value:Object(v.jsx)("span",{children:t.totalIncorrectStaked?"".concat(z(t.totalIncorrectStaked,t.stakeToken.decimals)," ").concat(t.stakeToken.symbol):W("global.na")})},{label:W("requestInfo.label.tags"),value:Object(v.jsx)("span",{children:t.tags.length?t.tags.map((function(e){return'"'.concat(e,'"')})).join(", "):W("requestInfo.label.noTags")})},{label:W("requestInfo.label.finalizedOutcome"),value:Object(v.jsx)("span",{children:t.finalized_outcome?Fe(t.finalized_outcome):"null"})}]})]})})}function Xo(e){var t=e.className,a=Object(s.c)((function(e){return e.dataRequest.dataRequestDetail}));return a?Object(v.jsx)(Yo,{dataRequest:a,className:t}):null}var Zo=a(504),Qo=a(118),ec=a.n(Qo);function tc(e){var t=e.label,a=e.labelA,n=e.labelB,r=e.onChange,o=void 0===r?function(){}:r,c=e.value,s=e.className,i=void 0===s?"":s;return Object(v.jsxs)("span",{className:f()(ec.a.root,i),children:[Object(v.jsx)("span",{children:t}),Object(v.jsxs)("div",{className:ec.a.options,children:[Object(v.jsx)("span",{children:a}),Object(v.jsx)(Zo.a,{value:c,classes:{thumb:ec.a.thumb,track:ec.a.track,switchBase:ec.a.switchBase},onChange:function(e,t){return o(t)}}),Object(v.jsx)("span",{children:n})]})]})}var ac=a(511),nc=a(519),rc=a(290),oc=a.n(rc);function cc(e){var t=e.items,a=e.value,n=e.label,r=e.id,o=e.onChange,c=void 0===o?function(){}:o;return Object(v.jsxs)("div",{children:[Object(v.jsx)(nc.a,{id:r,children:n}),Object(v.jsx)(ac.a,{value:a,labelId:r,className:oc.a.select,onChange:function(e){c(e.target.value)},children:t.map((function(e){return Object(v.jsx)(G.a,{value:e.value,children:e.name},e.value)}))})]})}var sc=a(79),ic=a.n(sc);function lc(e){var t=e.onRequestClose,a=e.onSubmit,o=e.open,c=e.account,s=e.dataRequest,i=Object(r.useState)(function(e){return{amount:"0",amountFormatted:"0",isInvalid:!1,answer:e.outcomes?e.outcomes[0]:""}}(s)),l=Object(K.a)(i,2),u=l[0],d=l[1];function b(e){d(Object(n.a)(Object(n.a)({},u),{},{answer:e}))}var f=function(e,t,a){var n={amount:"",answer:"",message:"",canSubmit:!0},r=new L.a(t.balance);e.isInvalid||(e.answer||(n.canSubmit=!1),a.outcomes&&a.outcomes.length&&(a.outcomes.includes(e.answer)||(n.answer=W("stakeDialog.errors.mustBeAnOutcome"),n.canSubmit=!1))),r.lt(e.amount)&&(n.amount=W("stakeDialog.errors.notEnoughBalance"),n.canSubmit=!1),new L.a(e.amount).lte(0)&&(n.canSubmit=!1);var o=a.resolutionWindows[a.resolutionWindows.length-1];if(o&&0!==o.round){var c,s,i=a.resolutionWindows[a.resolutionWindows.length-2];(null===i||void 0===i||null===(c=i.bondedOutcome)||void 0===c?void 0:c.type)===Ne.Invalid&&e.isInvalid&&(n.canSubmit=!1,n.message=W("stakeDialog.errors.sameAnswerAsPreviousRound")),(null===i||void 0===i||null===(s=i.bondedOutcome)||void 0===s?void 0:s.type)===Ne.Answer&&i.bondedOutcome.answer===e.answer&&(n.canSubmit=!1,n.message=W("stakeDialog.errors.sameAnswerAsPreviousRound"))}return n}(u,c,s);return Object(v.jsx)(Aa,{open:o,onRequestClose:t,onSubmitClick:function(){return a(u)},title:W("stakeDialog.title"),canSubmit:f.canSubmit,children:Object(v.jsxs)("form",{className:ic.a.form,children:[Object(v.jsx)("div",{className:ic.a.formItem,children:Object(v.jsx)(tc,{label:W("stakeDialog.label.validity"),labelA:W("stakeDialog.label.valid"),labelB:W("stakeDialog.label.invalid"),className:ic.a.formInput,value:u.isInvalid,onChange:function(e){d(Object(n.a)(Object(n.a)({},u),{},{isInvalid:e}))}})}),!u.isInvalid&&s.outcomes&&Object(v.jsx)("div",{className:ic.a.formItem,children:Object(v.jsx)(cc,{id:"stake_dialog_outcome",value:u.answer,label:W("stakeDialog.label.answer"),onChange:b,items:s.outcomes.map((function(e){return{name:e,value:e}}))})}),!u.isInvalid&&!s.outcomes&&Object(v.jsx)("div",{className:ic.a.formItem,children:Object(v.jsx)(Fa,{label:W("stakeDialog.label.answer"),className:ic.a.formInput,value:u.answer,error:f.answer,onChange:b,type:"Number"===s.data_type?"number":"text"})}),Object(v.jsx)("div",{className:ic.a.formItem,children:Object(v.jsx)(Fa,{label:W("stakeDialog.label.stakeAmount",{tokenSymbol:s.stakeToken.symbol}),className:ic.a.formInput,value:u.amountFormatted,onChange:function(e){d(Object(n.a)(Object(n.a)({},u),{},{amount:e?$(e,s.stakeToken.decimals):"0",amountFormatted:e||""}))},type:"number",error:f.amount})}),f.message&&Object(v.jsx)("div",{className:ic.a.error,children:f.message})]})})}function uc(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.dialogs.stakeDialog.open})),a=Object(s.c)((function(e){return e.account.account})),n=Object(s.c)((function(e){return e.dialogs.stakeDialog.dataRequest})),o=Object(r.useCallback)((function(){e(Ha({open:!1,dataRequest:void 0}))}),[e]),c=Object(r.useCallback)((function(t){n&&e(function(e,t){return function(){var a=Object(re.a)(ne.a.mark((function a(n){var r;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={type:Ne.Invalid},t.isInvalid||(r={answer:t.answer,type:Ne.Answer}),a.next=4,St("near",t.amount,e,r);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,t))}),[e,n]);return a&&n?Object(v.jsx)(lc,{open:t,onRequestClose:o,onSubmit:c,account:a,dataRequest:n}):null}var dc=a(178),bc=a.n(dc),fc=a(516),pc=a(291),mc=a.n(pc),jc=a(506),vc=a(505),hc=a(119),kc=a.n(hc);function Oc(e){var t=e.userStakes,a=e.stakeToken;return Object(v.jsx)("div",{className:kc.a.stakerReport,children:Object(v.jsx)(dr.a,{className:kc.a.container,component:pr.a,children:Object(v.jsxs)(ir.a,{className:kc.a.table,children:[Object(v.jsx)(br.a,{className:kc.a.tableHead,children:Object(v.jsxs)(fr.a,{children:[Object(v.jsx)(ur.a,{children:W("stakeReport.table.label.accountId")}),Object(v.jsx)(ur.a,{children:W("stakeReport.table.label.outcome")}),Object(v.jsx)(ur.a,{children:W("stakeReport.table.label.stake")})]})}),Object(v.jsx)(lr.a,{children:Object.keys(t).map((function(e,n){return t[e].map((function(t){return new L.a(t.stake).lte(0)?null:Object(v.jsxs)(fr.a,{children:[Object(v.jsx)(ur.a,{children:Object(v.jsx)(i.b,{className:kc.a.link,to:vs.account("near",e),children:e})}),Object(v.jsxs)(ur.a,{children:[t.outcome.type===Ne.Answer&&Object(v.jsxs)("span",{children:['"',t.outcome.answer,'"']}),t.outcome.type===Ne.Invalid&&Object(v.jsx)("span",{children:W("stakerReport.label.invalid")})]}),Object(v.jsxs)(ur.a,{children:[z(t.stake,a.decimals)," ",a.symbol]})]},"".concat(e,"_").concat(JSON.stringify(t.outcome)))}))}))})]})})})}var gc=a(179),xc=a.n(gc);function _c(e){var t=e.outcomeStakes,a=e.tableComponent,n=void 0===a?pr.a:a,r=e.finalizedOutcome,o=e.finalizedRound,c=e.stakeToken;return Object(v.jsx)("div",{children:Object(v.jsx)(dr.a,{className:xc.a.container,component:n,children:Object(v.jsxs)(ir.a,{className:xc.a.table,children:[Object(v.jsx)(br.a,{className:xc.a.tableHead,children:Object(v.jsxs)(fr.a,{children:[Object(v.jsx)(ur.a,{children:W("outcomeStakeInfo.table.label.outcome")}),Object(v.jsx)(ur.a,{children:W("outcomeStakeInfo.table.label.stake")}),r&&Object(v.jsx)(ur.a,{children:W("outcomeStakeInfo.table.label.correcltyStaked")})]})}),Object(v.jsx)(lr.a,{children:t.map((function(e,t){return new L.a(e.stake).lte(0)?null:Object(v.jsxs)(fr.a,{children:[Object(v.jsxs)(ur.a,{children:[e.outcome.type===Ne.Answer&&Object(v.jsxs)("span",{children:['"',e.outcome.answer,'"']}),e.outcome.type===Ne.Invalid&&Object(v.jsx)("span",{children:W("outcomeStakeInfo.label.invalid")})]}),Object(v.jsxs)(ur.a,{children:[z(e.stake,c.decimals)," ",c.symbol]}),r&&"undefined"!==typeof o&&Object(v.jsxs)(ur.a,{children:[e.round<=o&&Ue(r,e.outcome)&&W("outcomeStakeInfo.label.correct"),e.round<=o&&!Ue(r,e.outcome)&&W("outcomeStakeInfo.label.incorrect"),e.round>o&&W("outcomeStakeInfo.label.unbonded")]})]},t)}))})]})})})}var yc=a(180),wc=a.n(yc);function Ic(e){var t=e.resolutionWindow,a=e.defaultExpanded,n=e.stakeToken,o=new Date,c=Object(r.useState)(t.endTime.getTime()<=o.getTime()),s=Object(K.a)(c,2),i=s[0],l=s[1],u=t.winningOutcomeStake?new L.a(t.winningOutcomeStake.stake).div(t.bondSize).mul(100).toString():"0";return Object(v.jsxs)(fc.a,{className:wc.a.accordion,defaultExpanded:a,children:[Object(v.jsxs)(vc.a,{expandIcon:Object(v.jsx)(mc.a,{}),children:[Object(v.jsx)("span",{className:wc.a.roundTitle,children:W("resolutionWindow.round",{round:t.round.toString()})}),Object(v.jsx)("span",{children:t.bondedOutcome?Fe(t.bondedOutcome):""}),!i&&!t.bondedOutcome&&Object(v.jsxs)("span",{children:[W("resolutionWindow.label.closesIn"),Object(v.jsx)(Ro,{date:t.endTime,onComplete:function(){return l(!0)}})]})]}),Object(v.jsxs)(jc.a,{className:wc.a.details,children:[Object(v.jsx)(P,{rows:[{label:W("resolutionWindowAccordion.label.endTime"),value:Object(v.jsx)("span",{children:Bt(t.endTime)})},{label:W("resolutionWindowAccordion.label.bondSize"),value:Object(v.jsx)("span",{children:"".concat(z(t.bondSize,n.decimals)," ").concat(n.symbol)})},{label:W("resolutionWindowAccordion.label.totalStaked"),value:Object(v.jsx)("span",{children:"".concat(z(t.totalStaked,n.decimals)," ").concat(n.symbol)})},{label:W("resolutionWindowAccordion.label.percentageFilled"),value:Object(v.jsx)("span",{children:"".concat(u,"%")})},{label:W("resolutionWindowAccordion.label.winningOutcome"),value:Object(v.jsx)("span",{children:t.winningOutcomeStake?Fe(t.winningOutcomeStake.outcome):""})},{label:W("resolutionWindowAccordion.label.bondedOutcome"),value:Object(v.jsx)("span",{children:t.bondedOutcome?Fe(t.bondedOutcome):""})}]}),Object(v.jsx)("h3",{children:W("resolutionWindowAccordion.outcomeStakes.title")}),Object(v.jsx)(_c,{stakeToken:n,outcomeStakes:t.outcomeStakes}),Object(v.jsx)("h3",{children:W("resolutionWindowAccordion.stakerReports.title")}),Object(v.jsx)(Oc,{userStakes:t.userStakes,stakeToken:n})]})]})}function Sc(e){var t=e.dataRequest,a=e.className,n=t.resolutionWindows.slice().reverse();return Object(v.jsx)(h,{className:a,children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)("div",{className:bc.a.titleWrapper,children:Object(v.jsx)("h2",{className:bc.a.title,children:W("stakerReportsInfo.title")})}),Object(v.jsx)("div",{children:n.map((function(e,a){return Object(v.jsx)(Ic,{resolutionWindow:e,defaultExpanded:0===a,stakeToken:t.stakeToken},e.round)}))}),0===n.length&&Object(v.jsx)("div",{className:bc.a.noWindows,children:W("stakerReportsInfo.noWindows")})]})})}function Cc(e){var t=e.className,a=Object(s.c)((function(e){return e.dataRequest.dataRequestDetail}));return a?Object(v.jsx)(Sc,{dataRequest:a,className:t}):null}var qc=a(133),Rc=a.n(qc);function Dc(e){var t=e.dataRequest,a=e.onRequestClose,o=e.onSubmit,c=e.open,s=Object(r.useState)({selectedStakedOutcome:void 0,amount:"",amountFormatted:"",stakeIndex:0}),i=Object(K.a)(s,2),l=i[0],u=i[1],d=t.loggedInAccountStakes.filter((function(e){return!e.bonded&&new L.a(e.totalStake).gt(0)}));var b=function(e,t){var a={canSubmit:!0,amount:""},n=t[e.stakeIndex];if(!n)return a.canSubmit=!1,a;if(e.amount){var r=new L.a(e.amount);r.lte(0)&&(a.canSubmit=!1),r.gt(n.totalStake)&&(a.canSubmit=!1,a.amount=W("unstakeDialog.errors.notEnoughStaked"))}else a.canSubmit=!1;return a}(l,d);return Object(v.jsx)(Aa,{open:c,onRequestClose:a,onSubmitClick:function(){return o(Object(n.a)(Object(n.a)({},l),{},{selectedStakedOutcome:d[l.stakeIndex]}))},title:W("unstakeDialog.title"),canSubmit:b.canSubmit,children:Object(v.jsxs)("form",{children:[Object(v.jsx)("div",{className:Rc.a.formItem,children:Object(v.jsx)(cc,{id:"unstake_dialog_outcome",value:l.stakeIndex.toString(),label:W("unstakeDialog.label.answer"),onChange:function(e){u(Object(n.a)(Object(n.a)({},l),{},{stakeIndex:Number(e),selectedStakedOutcome:d[Number(e)]}))},items:d.map((function(e,t){return{name:"Round ".concat(e.round," - ").concat(Fe(e.outcome)),value:t.toString()}}))})}),Object(v.jsx)("div",{className:Rc.a.formItem,children:W("unstakeDialog.label.staked",{stake:z(d[l.stakeIndex].totalStake,t.stakeToken.decimals),tokenSymbol:t.stakeToken.symbol})}),Object(v.jsx)("div",{className:Rc.a.formItem,children:Object(v.jsx)(Ua,{label:W("unstakeDialog.label.stakeAmount",{tokenSymbol:t.stakeToken.symbol}),className:Rc.a.formInput,value:l.amountFormatted,onChange:function(e){u(Object(n.a)(Object(n.a)({},l),{},{amount:e?$(e,t.stakeToken.decimals):"0",amountFormatted:e||""}))},onMaxClick:function(){var e=d[l.stakeIndex];u(Object(n.a)(Object(n.a)({},l),{},{amount:e.totalStake,amountFormatted:z(e.totalStake,t.stakeToken.decimals)}))},showMax:!0,error:b.amount})})]})})}function Ac(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.dialogs.unstakeDialog.open})),a=Object(s.c)((function(e){return e.dialogs.unstakeDialog.dataRequest})),n=Object(r.useCallback)((function(){e(Ja({open:!1,dataRequest:void 0}))}),[e]),o=Object(r.useCallback)((function(t){a&&t.selectedStakedOutcome&&e(function(e,t,a){return function(){var n=Object(re.a)(ne.a.mark((function n(r){return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Tt("near",e,a.round,t,a.outcome);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t.amount,a,t.selectedStakedOutcome))}),[e,a]);return a?Object(v.jsx)(Dc,{onRequestClose:n,open:t,dataRequest:a,onSubmit:o}):null}var Tc=a(134),Nc=a.n(Tc);function Pc(e){var t=e.page,a=Object(l.f)(),n=Object(s.c)((function(e){return e.dataRequest.dataRequests})),o=Object(s.c)((function(e){return e.dataRequest.totalDataRequests})),c=Object(r.useCallback)((function(e){a.push({pathname:vs.dataRequests(e.toString()),search:a.location.search})}),[a]);return Object(v.jsx)(Tr,{dataRequests:n,page:t,totalItems:o,onRequestPageChange:c})}var Mc=a(507),Wc=a(512),Fc=a(292),Uc=a.n(Fc);function Ec(e){var t=e.checked,a=e.label,n=e.onChange;return Object(v.jsx)(Mc.a,{control:Object(v.jsx)(Wc.a,{checked:t,onChange:function(e){return n(e.target.checked)},classes:{checked:Uc.a.checked}}),label:a})}var Bc=a(210),Lc=a.n(Bc);function zc(e){var t=e.totalRequests,a=e.filters,r=e.onFilterChange;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:W("dataRequests.title")}),Object(v.jsxs)("div",{className:Lc.a.wrapper,children:[Object(v.jsx)("span",{className:Lc.a.subtitle,children:W("dataRequest.subtitle",{total:t})}),Object(v.jsx)(Ec,{label:W("dataRequestFilters.label.arbitrator"),checked:a.onlyArbitratorRequests,onChange:function(e){r(Object(n.a)(Object(n.a)({},a),{},{onlyArbitratorRequests:e}))}})]})]})}function $c(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.dataRequest.totalDataRequests})),a=Object(l.h)(),n=Object(l.f)(),o=new URLSearchParams(n.location.search),c={onlyArbitratorRequests:"true"===o.get("onlyArbitratorRequests")};return Object(r.useEffect)((function(){e(zo(c)),e(Ho(Number(a.page)))}),[o.toString(),e,a]),Object(v.jsx)(zc,{totalRequests:t.toString(),filters:c,onFilterChange:function(e){var t=new URLSearchParams;t.append("onlyArbitratorRequests",""+e.onlyArbitratorRequests),n.replace({pathname:vs.dataRequests(a.page),search:t.toString()})}})}function Hc(){var e=Object(s.c)((function(e){return e.stats.latestRequests}));return Object(v.jsx)(Tr,{dataRequests:e,page:0,totalItems:e.length,onRequestPageChange:function(){},showPagination:!1})}var Jc=a(181),Kc=a.n(Jc);function Vc(){return Object(v.jsx)(h,{children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)("h1",{className:Kc.a.title,children:W("homeHeader.title")}),Object(v.jsx)(ka,{inputClassName:Kc.a.searchInput,className:Kc.a.search})]})})}function Gc(){return Object(v.jsx)(Vc,{})}var Yc=a(293),Xc=a.n(Yc),Zc=a(294),Qc=a.n(Zc),es=a(182),ts=a.n(es);function as(e){var t=e.label,a=e.value;return Object(v.jsx)(h,{className:ts.a.card,children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)("h2",{className:ts.a.statLabel,children:t}),Object(v.jsx)("span",{className:ts.a.statValue,children:a})]})})}function ns(e){var t=e.totalRequests,a=e.tokenMarketCap,n=e.tokenPrice,r=e.appConfig,o=Xc()(a);return Object(v.jsxs)("div",{className:Qc.a.root,children:[Object(v.jsx)(as,{label:W("oracleStats.label.totalRequests"),value:t}),Object(v.jsx)(as,{label:W("oracleStats.label.tokenPrice",{tokenSymbol:r.stakeTokenSymbol}),value:"$".concat(n)}),Object(v.jsx)(as,{label:W("oracleStats.label.tokenMarketCap"),value:"$".concat(o)})]})}function rs(){var e=Object(s.c)((function(e){return e.stats.totalRequests})),t=Object(s.c)((function(e){return e.stats.tokenPrice})),a=Object(s.c)((function(e){return e.stats.tokenMarketCap})),n=Object(s.c)((function(e){return e.appconfig.appConfig}));return Object(v.jsx)(ns,{totalRequests:e,tokenMarketCap:a,tokenPrice:t,appConfig:n})}function os(e){return cs.apply(this,arguments)}function cs(){return(cs=Object(re.a)(ne.a.mark((function e(t){var a,n,r,o=arguments;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"usd",e.prev=1,e.next=4,fetch("".concat(_e,"/coins/").concat(t,"?localization=false"));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",{price:r.market_data.current_price[a],marketCap:r.market_data.market_cap[a]});case 11:return e.prev=11,e.t0=e.catch(1),console.error("[getTokenMarketInfoByTicker]",e.t0),e.abrupt("return",{marketCap:0,price:0});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}var ss=Object(La.a)({initialState:{totalRequests:"0",tokenPrice:0,tokenMarketCap:0,latestRequests:[]},name:"stats",reducers:{setTotalRequestsStat:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{totalRequests:t.payload})},setTokenPriceStat:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{tokenPrice:t.payload})},setTokenMarketCapStat:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{tokenMarketCap:t.payload})},setLatestRequestsStat:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{latestRequests:t.payload})}}}),is=ss.actions,ls=is.setTokenMarketCapStat,us=is.setTokenPriceStat,ds=is.setTotalRequestsStat,bs=is.setLatestRequestsStat,fs=ss.reducer;function ps(){return function(){var e=Object(re.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:da({limit:10,offset:0},{onlyArbitratorRequests:!1}).then((function(e){t(ds(e.total.toString())),t(bs(e.items))})),Oe("flx_token_price",Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",os("near"));case 1:case"end":return e.stop()}}),e)}))),1e4).then((function(e){t(us(e.price)),t(ls(e.marketCap))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var ms=a(295),js=a.n(ms);var vs={root:function(){return"/"},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":provider",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":accountId";return"/account/".concat(e,"/").concat(t)},accountRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":provider",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":accountId";return"/account/".concat(e,"/").concat(t,"/requests")},accountUnclaimed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":provider",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":accountId";return"/account/".concat(e,"/").concat(t,"/unclaimed")},accountAnalytics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":provider",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":accountId";return"/account/".concat(e,"/").concat(t,"/analytics")},accountRequestorAnalytics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":provider",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":accountId";return"/account/".concat(e,"/").concat(t,"/requestor-analytics")},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":provider",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":id";return"/config/".concat(e,"/").concat(t)},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":query";return"/search/".concat(e)},dataRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":page";return"/requests/".concat(e)},dataRequestDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":provider",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":id";return"/request/".concat(e,"/").concat(t)}},hs=[{component:function(){var e=Object(s.b)();return Object(r.useEffect)((function(){e(ps())}),[e]),ko()((function(){e(ps())}),2e3),Object(v.jsxs)(sr,{children:[Object(v.jsx)(Gc,{}),Object(v.jsx)(rs,{}),Object(v.jsx)("h2",{children:W("homePage.title.latestRequests")}),Object(v.jsx)(Hc,{})]})},exact:!0,inNavigation:!0,key:"home",label:W("routes.label.home"),path:vs.root(),navPath:vs.root()},{component:function(){var e=Object(l.h)();return Object(v.jsxs)(sr,{children:[Object(v.jsx)("div",{children:Object(v.jsx)("h1",{className:js.a.title,children:W("searchResultPage.title",{query:e.query})})}),Object(v.jsx)("div",{children:W("searchResultPage.noResults")})]})},exact:!0,inNavigation:!1,key:"search",label:W("routes.label.search"),path:vs.search(),navPath:vs.search()},{component:function(){var e=Object(l.h)(),t=Object(s.b)(),a=Object(l.f)(),n=Object(l.g)(),o=Object(s.c)((function(e){return e.account.accountDetail.info}));Object(r.useEffect)((function(){var a,n;t((a=e.provider,n=e.accountId,function(){var e=Object(re.a)(ne.a.mark((function e(t){var r,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt(a,n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Za(n);case 7:o=e.sent,t(An(r)),t(Pn(o));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[t,e]);var c=Object(r.useCallback)((function(e){a.push(e.id)}),[a]);return Object(v.jsxs)(sr,{children:[Object(v.jsx)("div",{children:Object(v.jsx)("h1",{className:Wr.a.title,children:e.accountId})}),Object(v.jsx)(J,{}),Object(v.jsx)(Jr,{}),Object(v.jsx)(h,{className:Wr.a.card,children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)(_,{activeId:n.pathname,className:Wr.a.tabBar,onTabClick:c,items:[{id:vs.account(e.provider,e.accountId),label:W("accountPage.label.stakes"),show:!0},{id:vs.accountUnclaimed(e.provider,e.accountId),label:W("accountPage.label.unclaimed"),show:o.hasStakes},{id:vs.accountRequests(e.provider,e.accountId),label:W("accountPage.label.requests"),show:o.hasRequests},{id:vs.accountAnalytics(e.provider,e.accountId),label:W("accountPage.label.analytics"),show:o.hasStakes},{id:vs.accountRequestorAnalytics(e.provider,e.accountId),label:W("accountPage.label.requestorAnalytics"),show:o.hasRequests}]}),Object(v.jsxs)(l.c,{children:[Object(v.jsx)(l.a,{exact:!0,path:vs.account(),component:Rr}),Object(v.jsx)(l.a,{exact:!0,path:vs.accountRequests(),component:Pr}),Object(v.jsx)(l.a,{exact:!0,path:vs.accountUnclaimed(),component:Ur}),Object(v.jsx)(l.a,{exact:!0,path:vs.accountAnalytics(),component:ao}),Object(v.jsx)(l.a,{exact:!0,path:vs.accountRequestorAnalytics(),component:ro})]})]})})]})},exact:!1,inNavigation:!1,key:"account",label:W("routes.label.account"),path:vs.account(),navPath:vs.account()},{component:function(){var e=Object(s.b)(),t=Object(l.h)().id,a=Object(s.c)((function(e){return e.account.account}));return Object(r.useEffect)((function(){return e(Jo(t)),function(){e((function(e){e(Uo(void 0)),e(Lo([]))}))}}),[e,t]),ko()((function(){e(Jo(t))}),5e3),Object(v.jsxs)(sr,{children:[Object(v.jsx)(Ko,{}),Object(v.jsx)(uc,{}),Object(v.jsx)(Ac,{}),Object(v.jsx)(Xo,{className:Nc.a.card}),a&&Object(v.jsx)(yo,{}),Object(v.jsx)(Co,{className:Nc.a.card}),Object(v.jsx)(Cc,{className:f()(Nc.a.card,Nc.a.lastCard)})]})},exact:!1,inNavigation:!1,key:"data-request-detail",label:"Data request detail",path:vs.dataRequestDetail(),navPath:vs.dataRequestDetail()},{component:function(){var e=Object(s.b)(),t=Object(l.h)();return ko()((function(){e(Ho(Number(t.page)))}),5e3),Object(v.jsxs)(sr,{children:[Object(v.jsx)($c,{}),Object(v.jsx)(Pc,{page:Number(t.page)})]})},exact:!0,inNavigation:!0,key:"data-requests",label:W("routes.label.dataRequests"),path:vs.dataRequests(),navPath:vs.dataRequests("0")},{component:function(){var e=Object(s.b)(),t=Object(l.h)();return Object(r.useEffect)((function(){var a;e((a=t.id,function(){var e=Object(re.a)(ne.a.mark((function e(t){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(jo(!0)),e.next=3,uo(a);case 3:n=e.sent,t(mo(n)),t(jo(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e,t.id]),Object(v.jsxs)(sr,{children:[Object(v.jsx)("h1",{children:W("oracleConfig.title",{id:t.id})}),Object(v.jsx)(lo,{})]})},exact:!0,inNavigation:!1,key:"config-detail",label:W("routes.label.config"),path:vs.config(),navPath:vs.config()}],ks=a(38),Os=a(296),gs=a(117),xs=Object(ks.combineReducers)({account:zn,appconfig:Yn,dataRequest:$o,dialogs:Va,stats:fs,oracleConfig:vo}),_s=function(){return"production"!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NEAR_ORACLE_CONTRACT_ID:"07.oracle.flux-dev",REACT_APP_API_URL:"https://testnet-oracle.flux.xyz/graphql",REACT_APP_NEAR_NETWORK:"testnet",REACT_APP_NEAR_NULL_CONTRACT:"null_contract.flux-dev",REACT_APP_NEAR_FLUX_TOKEN_ID:"wnear.flux-dev",REACT_APP_COINGECKO_API_URL:"https://api.coingecko.com/api/v3/",REACT_APP_APP_CONFIG_URL:"https://docs.google.com/spreadsheets/d/1hTpOq3oikSuIjILUXdcb676X2Rmu6ZqYczaBk4NsqtA/gviz/tq?tqx=out:csv&sheet=ImportantMessage"}).REACT_APP_APP_ENV?Object(Os.composeWithDevTools)(Object(ks.applyMiddleware)(gs.a)):Object(ks.applyMiddleware)(gs.a)};a(433);var ys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=_s();return Object(ks.createStore)(xs,e,t)}({});!function(){bt.apply(this,arguments)}(),c.a.render(Object(v.jsx)(s.a,{store:ys,children:Object(v.jsx)(i.a,{basename:"/",hashType:"hashbang",children:Object(v.jsx)(u.b,{injectFirst:!0,children:Object(v.jsx)(l.c,{children:hs.map((function(e){return Object(r.createElement)(l.a,Object(n.a)(Object(n.a)({},e),{},{key:e.key}))}))})})})}),document.getElementById("root"))},67:function(e,t,a){e.exports={titleWrapper:"CallDataInfoCard_titleWrapper__27iZZ",title:"CallDataInfoCard_title__y9qga",label:"CallDataInfoCard_label__KSOgB",table:"CallDataInfoCard_table__2FKa3",tableHeadRow:"CallDataInfoCard_tableHeadRow__RWXv0",tableItem:"CallDataInfoCard_tableItem__3hv8p",tableItemInner:"CallDataInfoCard_tableItemInner__1JjPs",possibleOutcomes:"CallDataInfoCard_possibleOutcomes__2zyN7"}},78:function(e,t,a){e.exports={card:"AccountStakesInfoCard_card__2oQpV",titleWrapper:"AccountStakesInfoCard_titleWrapper__XsRI6",title:"AccountStakesInfoCard_title__xXeRR",noStakes:"AccountStakesInfoCard_noStakes__nGDmS",claim:"AccountStakesInfoCard_claim__2MMmZ"}},79:function(e,t,a){e.exports={form:"StakeDialog_form__2Jewc",formItem:"StakeDialog_formItem__11Oc1",formInput:"StakeDialog_formInput__1nO1v",error:"StakeDialog_error__3U3jC"}},98:function(e,t,a){e.exports={root:"DataRequestsOverview_root__1C_f3",container:"DataRequestsOverview_container__gtVbk",tableHead:"DataRequestsOverview_tableHead__1UCIA",linkCell:"DataRequestsOverview_linkCell__v_ecT",pagination:"DataRequestsOverview_pagination__3VSEr",noRequests:"DataRequestsOverview_noRequests__2MHyM"}}},[[434,1,2]]]);
//# sourceMappingURL=main.3804224f.chunk.js.map